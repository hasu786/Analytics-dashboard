<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports & Analytics Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #2c3e50;
            min-height: 100vh;
            padding: 20px;
        }

        .reports-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        .reports-header {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left h1 {
            font-size: 2.2rem;
            color: #2c3e50;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-left p {
            color: #7f8c8d;
            font-size: 1rem;
        }

        .date-range {
            display: flex;
            align-items: center;
            gap: 15px;
            background: #f8f9fa;
            padding: 12px 20px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .date-input {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.95rem;
        }

        .apply-btn {
            padding: 8px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s;
        }

        .apply-btn:hover {
            background: #2980b9;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-3px);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .stat-icon.blue {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }

        .stat-icon.green {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
        }

        .stat-icon.orange {
            background: linear-gradient(135deg, #e67e22, #d35400);
        }

        .stat-icon.purple {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
        }

        .stat-content {
            flex: 1;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2c3e50;
            display: block;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 0.95rem;
            margin-top: 5px;
        }

        .stat-change {
            font-size: 0.9rem;
            font-weight: 500;
            margin-top: 8px;
        }

        .stat-change.positive {
            color: #27ae60;
        }

        .stat-change.negative {
            color: #e74c3c;
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 25px;
            margin-bottom: 25px;
        }

        @media (max-width: 1300px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
        }

        .chart-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f8f9fa;
        }

        .chart-header h2 {
            font-size: 1.4rem;
            color: #2c3e50;
        }

        .chart-actions {
            display: flex;
            gap: 10px;
        }

        .chart-action-btn {
            padding: 6px 12px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            color: #555;
            transition: all 0.2s;
        }

        .chart-action-btn:hover {
            background: #f8f9fa;
        }

        .chart-action-btn.active {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }

        /* Chart Containers */
        .chart-container {
            height: 300px;
            position: relative;
        }

        .chart-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #95a5a6;
            font-size: 1rem;
        }

        .chart-bars {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 200px;
            margin-top: 40px;
            padding: 0 20px;
        }

        .chart-bar {
            width: 40px;
            background: linear-gradient(to top, #3498db, #2980b9);
            border-radius: 6px 6px 0 0;
            position: relative;
            transition: height 0.3s;
        }

        .chart-bar:hover {
            opacity: 0.9;
            transform: scale(1.05);
        }

        .bar-label {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.85rem;
            color: #7f8c8d;
            white-space: nowrap;
        }

        .bar-value {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            font-weight: 600;
            color: #2c3e50;
        }

        /* Pie Chart */
        .pie-chart-container {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 250px;
            position: relative;
        }

        .pie-chart {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: conic-gradient(#3498db 0% 30%,
                    #2ecc71 30% 50%,
                    #e74c3c 50% 70%,
                    #f39c12 70% 85%,
                    #9b59b6 85% 100%);
        }

        .pie-center {
            position: absolute;
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: #2c3e50;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        /* Reports Table */
        .reports-table-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            margin-bottom: 25px;
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .table-actions {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #2980b9, #1f6397);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(41, 128, 185, 0.3);
        }

        .btn-secondary {
            background: #ecf0f1;
            color: #2c3e50;
        }

        .btn-secondary:hover {
            background: #d5dbdb;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #2ecc71;
            color: white;
        }

        .btn-success:hover {
            background: #27ae60;
            transform: translateY(-2px);
        }

        .table-wrapper {
            overflow-x: auto;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }

        thead {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        }

        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #2c3e50;
            border-bottom: 2px solid #dee2e6;
        }

        td {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
        }

        tbody tr:hover {
            background: #f8f9fa;
        }

        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .status-completed {
            background: #d5f4e6;
            color: #27ae60;
        }

        .status-pending {
            background: #fef9e7;
            color: #f39c12;
        }

        .status-processing {
            background: #e8f4fc;
            color: #3498db;
        }

        .status-failed {
            background: #fdedec;
            color: #e74c3c;
        }

        /* Export Options */
        .export-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }

        .export-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .export-option {
            background: #f8f9fa;
            border: 2px dashed #dee2e6;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .export-option:hover {
            background: #e9ecef;
            border-color: #3498db;
            transform: translateY(-3px);
        }

        .export-icon {
            font-size: 2rem;
            margin-bottom: 15px;
            display: block;
        }

        .export-option h4 {
            margin-bottom: 8px;
            color: #2c3e50;
        }

        .export-option p {
            color: #7f8c8d;
            font-size: 0.9rem;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f8f9fa;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #95a5a6;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: 500;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
        }

        .page-btn {
            width: 35px;
            height: 35px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .page-btn.active {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }

        .page-btn:hover:not(.active) {
            background: #f8f9fa;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .reports-header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }

            .date-range {
                flex-direction: column;
                width: 100%;
            }

            .chart-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }

            .table-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }

            .table-actions {
                width: 100%;
                flex-wrap: wrap;
            }
        }

        /* Print Styles */
        @media print {

            .btn,
            .chart-action-btn,
            .modal,
            .export-section {
                display: none !important;
            }

            body {
                background: white;
                padding: 0;
            }

            .reports-header,
            .stat-card,
            .chart-card,
            .reports-table-container {
                box-shadow: none;
                border: 1px solid #ddd;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <div class="reports-container">
        <!-- Header -->
        <div class="reports-header">
            <div class="header-left">
                <h1>üìä Reports & Analytics</h1>
                <p>Comprehensive insights and data visualization for your project</p>
            </div>
            <div class="date-range">
                <input type="date" class="date-input" id="startDate" value="2024-01-01">
                <span>to</span>
                <input type="date" class="date-input" id="endDate" value="2024-12-31">
                <button class="apply-btn" onclick="applyDateRange()">Apply</button>
                <button onclick="window.location.href='index.html'"
                    style="margin-left: auto; background: #ecf0f1; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer;">
                    ‚Üê Back to Dashboard
                </button>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon blue">üìà</div>
                <div class="stat-content">
                    <span class="stat-value" id="totalRevenue">$42,580</span>
                    <span class="stat-label">Total Revenue</span>
                    <span class="stat-change positive">‚Üë 12.5% from last month</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon green">üë•</div>
                <div class="stat-content">
                    <span class="stat-value" id="totalUsers">3,842</span>
                    <span class="stat-label">Active Users</span>
                    <span class="stat-change positive">‚Üë 8.2% from last month</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon orange">üìä</div>
                <div class="stat-content">
                    <span class="stat-value" id="avgSession">24.5m</span>
                    <span class="stat-label">Avg. Session Duration</span>
                    <span class="stat-change negative">‚Üì 2.1% from last month</span>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon purple">‚úÖ</div>
                <div class="stat-content">
                    <span class="stat-value" id="conversionRate">3.42%</span>
                    <span class="stat-label">Conversion Rate</span>
                    <span class="stat-change positive">‚Üë 0.8% from last month</span>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-section">
            <!-- Revenue Chart -->
            <div class="chart-card">
                <div class="chart-header">
                    <h2>Revenue Overview</h2>
                    <div class="chart-actions">
                        <button class="chart-action-btn active" onclick="setChartPeriod('month')">Monthly</button>
                        <button class="chart-action-btn" onclick="setChartPeriod('quarter')">Quarterly</button>
                        <button class="chart-action-btn" onclick="setChartPeriod('year')">Yearly</button>
                    </div>
                </div>
                <div class="chart-container">
                    <div class="chart-bars" id="revenueChart">
                        <!-- Dynamic bars will be inserted here -->
                    </div>
                </div>
            </div>

            <!-- User Growth Chart -->
            <div class="chart-card">
                <div class="chart-header">
                    <h2>User Growth</h2>
                    <div class="chart-actions">
                        <button class="chart-action-btn active" onclick="setGrowthChart('new')">New Users</button>
                        <button class="chart-action-btn" onclick="setGrowthChart('active')">Active Users</button>
                        <button class="chart-action-btn" onclick="setGrowthChart('retention')">Retention</button>
                    </div>
                </div>
                <div class="chart-container">
                    <div class="chart-bars" id="growthChart">
                        <!-- Dynamic bars will be inserted here -->
                    </div>
                </div>
            </div>

            <!-- Distribution Chart -->
            <div class="chart-card">
                <div class="chart-header">
                    <h2>Traffic Sources</h2>
                    <div class="chart-actions">
                        <button class="chart-action-btn active" onclick="setTrafficView('source')">By Source</button>
                        <button class="chart-action-btn" onclick="setTrafficView('device')">By Device</button>
                    </div>
                </div>
                <div class="chart-container">
                    <div class="pie-chart-container">
                        <div class="pie-chart"></div>
                        <div class="pie-center">
                            <div>Total</div>
                            <div>100%</div>
                        </div>
                    </div>
                    <div style="display: flex; justify-content: space-around; margin-top: 30px;">
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="width: 15px; height: 15px; background: #3498db; border-radius: 3px;"></div>
                            <span>Direct (30%)</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="width: 15px; height: 15px; background: #2ecc71; border-radius: 3px;"></div>
                            <span>Organic (20%)</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="width: 15px; height: 15px; background: #e74c3c; border-radius: 3px;"></div>
                            <span>Social (20%)</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="width: 15px; height: 15px; background: #f39c12; border-radius: 3px;"></div>
                            <span>Email (15%)</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="width: 15px; height: 15px; background: #9b59b6; border-radius: 3px;"></div>
                            <span>Referral (15%)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reports Table -->
        <div class="reports-table-container">
            <div class="table-header">
                <h2 style="font-size: 1.4rem; color: #2c3e50;">Detailed Reports</h2>
                <div class="table-actions">
                    <button class="btn btn-primary" onclick="openNewReportModal()">
                        üìÑ Generate New Report
                    </button>
                    <button class="btn btn-secondary" onclick="refreshReports()">
                        üîÑ Refresh
                    </button>
                    <button class="btn btn-success" onclick="exportToExcel()">
                        üìä Export to Excel
                    </button>
                </div>
            </div>

            <div class="table-wrapper">
                <table id="reportsTable">
                    <thead>
                        <tr>
                            <th>Report ID</th>
                            <th>Report Name</th>
                            <th>Type</th>
                            <th>Date Generated</th>
                            <th>Status</th>
                            <th>Size</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="reportsTableBody">
                        <!-- Reports will be dynamically inserted here -->
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <button class="page-btn" onclick="changePage(-1)">‚Äπ</button>
                <button class="page-btn active">1</button>
                <button class="page-btn" onclick="changePage(2)">2</button>
                <button class="page-btn" onclick="changePage(3)">3</button>
                <button class="page-btn" onclick="changePage(4)">4</button>
                <button class="page-btn" onclick="changePage(5)">5</button>
                <button class="page-btn" onclick="changePage(1)">‚Ä∫</button>
            </div>
        </div>

        <!-- Export Options -->
        <div class="export-section">
            <h2 style="margin-bottom: 20px; color: #2c3e50;">Export Reports</h2>
            <div class="export-options">
                <div class="export-option" onclick="exportReport('pdf')">
                    <span class="export-icon">üìÑ</span>
                    <h4>PDF Export</h4>
                    <p>High-quality printable reports</p>
                </div>
                <div class="export-option" onclick="exportReport('excel')">
                    <span class="export-icon">üìä</span>
                    <h4>Excel Export</h4>
                    <p>Spreadsheet format for analysis</p>
                </div>
                <div class="export-option" onclick="exportReport('csv')">
                    <span class="export-icon">üìã</span>
                    <h4>CSV Export</h4>
                    <p>Comma-separated values</p>
                </div>
                <div class="export-option" onclick="exportReport('json')">
                    <span class="export-icon">üîß</span>
                    <h4>JSON Export</h4>
                    <p>Structured data format</p>
                </div>
            </div>
        </div>
    </div>

    <!-- New Report Modal -->
    <div class="modal" id="newReportModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 style="color: #2c3e50;">Generate New Report</h2>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <form id="reportForm">
                <div class="form-group">
                    <label for="reportName">Report Name</label>
                    <input type="text" id="reportName" placeholder="Enter report name" required>
                </div>
                <div class="form-group">
                    <label for="reportType">Report Type</label>
                    <select id="reportType" required>
                        <option value="">Select type</option>
                        <option value="financial">Financial Report</option>
                        <option value="user">User Analytics</option>
                        <option value="performance">Performance Report</option>
                        <option value="custom">Custom Report</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="dateRange">Date Range</label>
                    <select id="dateRange">
                        <option value="today">Today</option>
                        <option value="week">This Week</option>
                        <option value="month" selected>This Month</option>
                        <option value="quarter">This Quarter</option>
                        <option value="year">This Year</option>
                        <option value="custom">Custom Range</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reportFormat">Format</label>
                    <select id="reportFormat">
                        <option value="pdf">PDF</option>
                        <option value="excel">Excel</option>
                        <option value="csv">CSV</option>
                        <option value="html">HTML</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="reportDescription">Description (Optional)</label>
                    <textarea id="reportDescription" placeholder="Enter report description"></textarea>
                </div>
                <div style="display: flex; gap: 15px; margin-top: 25px;">
                    <button type="button" class="btn btn-secondary" onclick="closeModal()" style="flex: 1;">
                        Cancel
                    </button>
                    <button type="submit" class="btn btn-primary" style="flex: 1;">
                        Generate Report
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Report Details Modal -->
    <div class="modal" id="reportDetailsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 style="color: #2c3e50;">Report Details</h2>
                <button class="modal-close" onclick="closeDetailsModal()">√ó</button>
            </div>
            <div id="reportDetailsContent">
                <!-- Dynamic content will be inserted here -->
            </div>
        </div>
    </div>

    <script>
        // Sample reports data
        let reports = [
            { id: 'RPT-001', name: 'Monthly Financial Report', type: 'financial', date: '2024-01-15', status: 'completed', size: '2.4 MB', description: 'Comprehensive financial overview for January 2024' },
            { id: 'RPT-002', name: 'User Analytics Q1', type: 'user', date: '2024-01-10', status: 'completed', size: '1.8 MB', description: 'User behavior and demographics analysis' },
            { id: 'RPT-003', name: 'Performance Metrics', type: 'performance', date: '2024-01-08', status: 'processing', size: 'Processing...', description: 'System performance and uptime metrics' },
            { id: 'RPT-004', name: 'Marketing Campaign', type: 'marketing', date: '2024-01-05', status: 'completed', size: '3.2 MB', description: 'Marketing campaign effectiveness analysis' },
            { id: 'RPT-005', name: 'Security Audit', type: 'security', date: '2024-01-03', status: 'pending', size: 'Pending', description: 'Quarterly security audit report' },
            { id: 'RPT-006', name: 'Sales Dashboard', type: 'sales', date: '2023-12-28', status: 'completed', size: '1.5 MB', description: 'Sales performance and forecasting' },
            { id: 'RPT-007', name: 'Customer Feedback', type: 'user', date: '2023-12-25', status: 'completed', size: '0.9 MB', description: 'Customer satisfaction analysis' },
            { id: 'RPT-008', name: 'Server Logs', type: 'technical', date: '2023-12-20', status: 'failed', size: 'N/A', description: 'Server log analysis and monitoring' }
        ];

        // Chart data
        const revenueData = {
            month: [
                { label: 'Jan', value: 38000 },
                { label: 'Feb', value: 42000 },
                { label: 'Mar', value: 45000 },
                { label: 'Apr', value: 41000 },
                { label: 'May', value: 48000 },
                { label: 'Jun', value: 52000 }
            ],
            quarter: [
                { label: 'Q1', value: 125000 },
                { label: 'Q2', value: 135000 },
                { label: 'Q3', value: 141000 },
                { label: 'Q4', value: 155000 }
            ],
            year: [
                { label: '2020', value: 450000 },
                { label: '2021', value: 520000 },
                { label: '2022', value: 610000 },
                { label: '2023', value: 725000 }
            ]
        };

        const growthData = {
            new: [
                { label: 'Jan', value: 320 },
                { label: 'Feb', value: 380 },
                { label: 'Mar', value: 410 },
                { label: 'Apr', value: 390 },
                { label: 'May', value: 450 },
                { label: 'Jun', value: 520 }
            ],
            active: [
                { label: 'Jan', value: 2840 },
                { label: 'Feb', value: 2980 },
                { label: 'Mar', value: 3120 },
                { label: 'Apr', value: 3010 },
                { label: 'May', value: 3250 },
                { label: 'Jun', value: 3420 }
            ],
            retention: [
                { label: 'Jan', value: 68 },
                { label: 'Feb', value: 72 },
                { label: 'Mar', value: 75 },
                { label: 'Apr', value: 71 },
                { label: 'May', value: 78 },
                { label: 'Jun', value: 82 }
            ]
        };

        let currentRevenuePeriod = 'month';
        let currentGrowthChart = 'new';
        let currentPage = 1;
        const itemsPerPage = 5;

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function () {
            renderRevenueChart();
            renderGrowthChart();
            renderReportsTable();
            loadFromLocalStorage();

            // Set today's date as end date
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('endDate').value = today;

            // Set first day of month as start date
            const firstDay = new Date();
            firstDay.setDate(1);
            document.getElementById('startDate').value = firstDay.toISOString().split('T')[0];
        });

        // Render revenue chart
        function renderRevenueChart() {
            const chartContainer = document.getElementById('revenueChart');
            const data = revenueData[currentRevenuePeriod];
            const maxValue = Math.max(...data.map(item => item.value));

            chartContainer.innerHTML = '';

            data.forEach(item => {
                const height = (item.value / maxValue) * 150 + 20; // Scale to 150px max
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.height = `${height}px`;
                bar.innerHTML = `
                    <div class="bar-value">$${(item.value / 1000).toFixed(1)}k</div>
                    <div class="bar-label">${item.label}</div>
                `;
                chartContainer.appendChild(bar);
            });
        }

        // Render growth chart
        function renderGrowthChart() {
            const chartContainer = document.getElementById('growthChart');
            const data = growthData[currentGrowthChart];
            const maxValue = Math.max(...data.map(item => item.value));
            const isPercentage = currentGrowthChart === 'retention';

            chartContainer.innerHTML = '';

            data.forEach(item => {
                const height = (item.value / maxValue) * 150 + 20;
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.height = `${height}px`;
                bar.style.background = isPercentage ?
                    'linear-gradient(to top, #2ecc71, #27ae60)' :
                    'linear-gradient(to top, #3498db, #2980b9)';

                const displayValue = isPercentage ? `${item.value}%` : item.value.toLocaleString();
                bar.innerHTML = `
                    <div class="bar-value">${displayValue}</div>
                    <div class="bar-label">${item.label}</div>
                `;
                chartContainer.appendChild(bar);
            });
        }

        // Render reports table
        function renderReportsTable() {
            const tbody = document.getElementById('reportsTableBody');
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const pageReports = reports.slice(startIndex, endIndex);

            tbody.innerHTML = '';

            pageReports.forEach(report => {
                const row = document.createElement('tr');

                let statusClass = '';
                let statusText = '';
                switch (report.status) {
                    case 'completed':
                        statusClass = 'status-completed';
                        statusText = 'Completed';
                        break;
                    case 'processing':
                        statusClass = 'status-processing';
                        statusText = 'Processing';
                        break;
                    case 'pending':
                        statusClass = 'status-pending';
                        statusText = 'Pending';
                        break;
                    case 'failed':
                        statusClass = 'status-failed';
                        statusText = 'Failed';
                        break;
                }

                const typeIcon = getReportTypeIcon(report.type);

                row.innerHTML = `
                    <td><strong>${report.id}</strong></td>
                    <td>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            ${typeIcon}
                            <div>
                                <div>${report.name}</div>
                                <small style="color: #7f8c8d; font-size: 0.85rem;">${report.description || ''}</small>
                            </div>
                        </div>
                    </td>
                    <td>${report.type.charAt(0).toUpperCase() + report.type.slice(1)}</td>
                    <td>${formatDate(report.date)}</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                    <td>${report.size}</td>
                    <td>
                        <button class="chart-action-btn" onclick="viewReport('${report.id}')">üëÅÔ∏è View</button>
                        <button class="chart-action-btn" onclick="downloadReport('${report.id}')">‚¨áÔ∏è Download</button>
                    </td>
                `;

                tbody.appendChild(row);
            });

            updatePagination();
        }

        // Get report type icon
        function getReportTypeIcon(type) {
            const icons = {
                financial: 'üí∞',
                user: 'üë•',
                performance: '‚ö°',
                marketing: 'üì¢',
                security: 'üîí',
                sales: 'üìà',
                technical: 'üîß',
                custom: 'üìÑ'
            };
            return icons[type] || 'üìÑ';
        }

        // Format date
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        }

        // Update pagination
        function updatePagination() {
            const totalPages = Math.ceil(reports.length / itemsPerPage);
            const pagination = document.querySelector('.pagination');

            // Clear existing page buttons
            const pageButtons = pagination.querySelectorAll('.page-btn:not(:first-child):not(:last-child)');
            pageButtons.forEach(btn => btn.remove());

            // Add page buttons
            for (let i = 1; i <= totalPages; i++) {
                const btn = document.createElement('button');
                btn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
                btn.textContent = i;
                btn.onclick = () => {
                    currentPage = i;
                    renderReportsTable();
                };

                const prevBtn = pagination.querySelector('.page-btn:last-child');
                pagination.insertBefore(btn, prevBtn);
            }
        }

        // Change page
        function changePage(direction) {
            const totalPages = Math.ceil(reports.length / itemsPerPage);

            if (direction === -1 && currentPage > 1) {
                currentPage--;
            } else if (direction === 1 && currentPage < totalPages) {
                currentPage++;
            } else if (typeof direction === 'number') {
                currentPage = direction;
            }

            renderReportsTable();
        }

        // Set chart period
        function setChartPeriod(period) {
            currentRevenuePeriod = period;
            const buttons = document.querySelectorAll('#revenueChart + .chart-header .chart-action-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            renderRevenueChart();
        }

        // Set growth chart
        function setGrowthChart(type) {
            currentGrowthChart = type;
            const buttons = document.querySelectorAll('#growthChart + .chart-header .chart-action-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            renderGrowthChart();
        }

        // Apply date range
        function applyDateRange() {
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;

            if (startDate && endDate && startDate <= endDate) {
                // Simulate data filtering based on date range
                showToast('Date range applied: ' + startDate + ' to ' + endDate);

                // Update stats based on date range (simulated)
                const revenue = Math.floor(Math.random() * 20000) + 30000;
                const users = Math.floor(Math.random() * 2000) + 2000;

                document.getElementById('totalRevenue').textContent = '$' + revenue.toLocaleString();
                document.getElementById('totalUsers').textContent = users.toLocaleString();

                // Save to localStorage
                localStorage.setItem('reportDateRange', JSON.stringify({ startDate, endDate }));
            } else {
                alert('Please select a valid date range');
            }
        }

        // Open new report modal
        function openNewReportModal() {
            document.getElementById('newReportModal').classList.add('active');
        }

        // Close modal
        function closeModal() {
            document.getElementById('newReportModal').classList.remove('active');
            document.getElementById('reportForm').reset();
        }

        // Close details modal
        function closeDetailsModal() {
            document.getElementById('reportDetailsModal').classList.remove('active');
        }

        // View report details
        function viewReport(reportId) {
            const report = reports.find(r => r.id === reportId);
            if (!report) return;

            const content = document.getElementById('reportDetailsContent');
            content.innerHTML = `
                <div style="margin-bottom: 20px;">
                    <h3 style="color: #2c3e50; margin-bottom: 10px;">${report.name}</h3>
                    <p style="color: #7f8c8d;">${report.description || 'No description available'}</p>
                </div>
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                        <div>
                            <strong>Report ID:</strong><br>
                            ${report.id}
                        </div>
                        <div>
                            <strong>Type:</strong><br>
                            ${report.type.charAt(0).toUpperCase() + report.type.slice(1)}
                        </div>
                        <div>
                            <strong>Date Generated:</strong><br>
                            ${formatDate(report.date)}
                        </div>
                        <div>
                            <strong>Status:</strong><br>
                            <span class="status-badge ${getStatusClass(report.status)}">
                                ${report.status.charAt(0).toUpperCase() + report.status.slice(1)}
                            </span>
                        </div>
                        <div>
                            <strong>File Size:</strong><br>
                            ${report.size}
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 25px; display: flex; gap: 15px;">
                    <button class="btn btn-primary" onclick="downloadReport('${report.id}')">
                        ‚¨áÔ∏è Download Report
                    </button>
                    <button class="btn btn-secondary" onclick="shareReport('${report.id}')">
                        üì§ Share Report
                    </button>
                </div>
            `;

            document.getElementById('reportDetailsModal').classList.add('active');
        }

        // Get status class
        function getStatusClass(status) {
            switch (status) {
                case 'completed': return 'status-completed';
                case 'processing': return 'status-processing';
                case 'pending': return 'status-pending';
                case 'failed': return 'status-failed';
                default: return '';
            }
        }

        // Download report
        function downloadReport(reportId) {
            const report = reports.find(r => r.id === reportId);
            if (!report) return;

            if (report.status === 'completed') {
                showToast(`Downloading ${report.name}...`);
                // In a real application, this would trigger a file download

                // Simulate download delay
                setTimeout(() => {
                    showToast(`${report.name} downloaded successfully!`);
                }, 1000);
            } else {
                alert('Report is not ready for download. Status: ' + report.status);
            }
        }

        // Share report
        function shareReport(reportId) {
            const report = reports.find(r => r.id === reportId);
            if (!report) return;

            const shareText = `Check out this report: ${report.name}`;
            if (navigator.share) {
                navigator.share({
                    title: report.name,
                    text: shareText,
                    url: window.location.href
                });
            } else {
                // Fallback for browsers that don't support Web Share API
                prompt('Copy this link to share:', shareText);
            }
        }

        // Export report
        function exportReport(format) {
            const formats = {
                pdf: 'PDF Document',
                excel: 'Excel Spreadsheet',
                csv: 'CSV File',
                json: 'JSON Data'
            };

            showToast(`Exporting reports as ${formats[format]}...`);

            // Simulate export process
            setTimeout(() => {
                if (format === 'json') {
                    const dataStr = JSON.stringify(reports, null, 2);
                    const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);
                    const linkElement = document.createElement('a');
                    linkElement.setAttribute('href', dataUri);
                    linkElement.setAttribute('download', 'reports-export.json');
                    linkElement.click();
                }
                showToast(`Exported successfully as ${formats[format]}!`);
            }, 1500);
        }

        // Export to Excel
        function exportToExcel() {
            showToast('Exporting to Excel...');

            // Create CSV content
            let csv = 'Report ID,Report Name,Type,Date,Status,Size,Description\n';
            reports.forEach(report => {
                csv += `${report.id},"${report.name}",${report.type},${report.date},${report.status},${report.size},"${report.description || ''}"\n`;
            });

            // Create download link
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'reports-export.csv';
            link.click();

            showToast('Excel export completed!');
        }

        // Refresh reports
        function refreshReports() {
            showToast('Refreshing reports...');

            // Simulate API call
            setTimeout(() => {
                // Add a new simulated report
                const newReport = {
                    id: 'RPT-' + (reports.length + 1).toString().padStart(3, '0'),
                    name: 'Auto-generated Report',
                    type: ['financial', 'user', 'performance'][Math.floor(Math.random() * 3)],
                    date: new Date().toISOString().split('T')[0],
                    status: 'completed',
                    size: (Math.random() * 2 + 0.5).toFixed(1) + ' MB',
                    description: 'Automatically generated report'
                };

                reports.unshift(newReport);
                renderReportsTable();
                showToast('Reports refreshed successfully!');
            }, 1000);
        }

        // Handle report form submission
        document.getElementById('reportForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const reportName = document.getElementById('reportName').value;
            const reportType = document.getElementById('reportType').value;
            const dateRange = document.getElementById('dateRange').value;
            const format = document.getElementById('reportFormat').value;
            const description = document.getElementById('reportDescription').value;

            // Create new report
            const newReport = {
                id: 'RPT-' + (reports.length + 1).toString().padStart(3, '0'),
                name: reportName,
                type: reportType,
                date: new Date().toISOString().split('T')[0],
                status: 'processing',
                size: 'Processing...',
                description: description
            };

            reports.unshift(newReport);
            renderReportsTable();
            closeModal();

            showToast('Report generation started...');

            // Simulate report processing
            setTimeout(() => {
                const reportIndex = reports.findIndex(r => r.id === newReport.id);
                if (reportIndex !== -1) {
                    reports[reportIndex].status = 'completed';
                    reports[reportIndex].size = (Math.random() * 3 + 0.5).toFixed(1) + ' MB';
                    renderReportsTable();
                    showToast(`Report "${reportName}" generated successfully!`);
                }
            }, 3000);
        });

        // Save to localStorage
        function saveToLocalStorage() {
            localStorage.setItem('reportsData', JSON.stringify(reports));
        }

        // Load from localStorage
        function loadFromLocalStorage() {
            const saved = localStorage.getItem('reportsData');
            if (saved) {
                reports = JSON.parse(saved);
                renderReportsTable();
            }
        }

        // Show toast notification
        function showToast(message) {
            // Create toast element
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: #2c3e50;
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                z-index: 1000;
                transform: translateY(100px);
                opacity: 0;
                transition: transform 0.3s, opacity 0.3s;
            `;
            toast.textContent = message;
            document.body.appendChild(toast);

            // Animate in
            setTimeout(() => {
                toast.style.transform = 'translateY(0)';
                toast.style.opacity = '1';
            }, 10);

            // Remove after 3 seconds
            setTimeout(() => {
                toast.style.transform = 'translateY(100px)';
                toast.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 3000);
        }

        // Set traffic view
        function setTrafficView(view) {
            const buttons = document.querySelectorAll('.pie-chart-container + .chart-header .chart-action-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Update pie chart colors based on view
            const pieChart = document.querySelector('.pie-chart');
            if (view === 'device') {
                pieChart.style.background = 'conic-gradient(' +
                    '#3498db 0% 40%, ' +   // Mobile
                    '#2ecc71 40% 65%, ' +   // Desktop
                    '#e74c3c 65% 85%, ' +   // Tablet
                    '#f39c12 85% 95%, ' +   // Other
                    '#9b59b6 95% 100%)';    // Unknown
            } else {
                pieChart.style.background = 'conic-gradient(' +
                    '#3498db 0% 30%, ' +   // Direct
                    '#2ecc71 30% 50%, ' +   // Organic
                    '#e74c3c 50% 70%, ' +   // Social
                    '#f39c12 70% 85%, ' +   // Email
                    '#9b59b6 85% 100%)';    // Referral
            }
        }

        // Print reports
        function printReports() {
            window.print();
        }

        // Auto-save every 30 seconds
        setInterval(saveToLocalStorage, 30000);

        // Keyboard shortcuts
        document.addEventListener('keydown', function (e) {
            // Ctrl+P to print
            if ((e.ctrlKey || e.metaKey) && e.key === 'p') {
                e.preventDefault();
                printReports();
            }

            // Ctrl+N for new report
            if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
                e.preventDefault();
                openNewReportModal();
            }

            // Escape to close modals
            if (e.key === 'Escape') {
                closeModal();
                closeDetailsModal();
            }
        });
    </script>
</body>

</html>