<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Analytics | DataViz Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <style>
        /* ===== RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Light Theme Colors */
            --primary: #10b981;
            --primary-light: #34d399;
            --primary-dark: #059669;
            --secondary: #3b82f6;
            --danger: #ef4444;
            --warning: #f59e0b;
            --purple: #8b5cf6;
            --cyan: #06b6d4;
            --pink: #ec4899;

            --bg-primary: #f9fafb;
            --bg-secondary: #ffffff;
            --bg-sidebar: #1f2937;
            --bg-card: #ffffff;
            --bg-gradient: linear-gradient(135deg, #10b981 0%, #059669 100%);
            --bg-gradient-sales: linear-gradient(135deg, #10b981 0%, #3b82f6 100%);

            --text-primary: #111827;
            --text-secondary: #6b7280;
            --text-light: #9ca3af;

            --border-color: #e5e7eb;
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --shadow-green: 0 10px 15px -3px rgba(16, 185, 129, 0.2);

            --radius: 0.75rem;
            --radius-sm: 0.5rem;
            --radius-lg: 1rem;
            --transition: all 0.3s ease;
        }

        .dark-theme {
            /* Dark Theme Colors */
            --primary: #34d399;
            --primary-light: #6ee7b7;
            --primary-dark: #10b981;

            --bg-primary: #111827;
            --bg-secondary: #1f2937;
            --bg-sidebar: #0f172a;
            --bg-card: #1f2937;
            --bg-gradient: linear-gradient(135deg, #059669 0%, #047857 100%);
            --bg-gradient-sales: linear-gradient(135deg, #059669 0%, #1d4ed8 100%);

            --text-primary: #f9fafb;
            --text-secondary: #d1d5db;
            --text-light: #9ca3af;

            --border-color: #374151;
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
            --shadow-green: 0 10px 15px -3px rgba(16, 185, 129, 0.3);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: var(--transition);
            line-height: 1.5;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ===== THEME TOGGLE ===== */
        .theme-toggle {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
        }

        .theme-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
            z-index: 1001;
        }

        .theme-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-green);
        }

        /* ===== LAYOUT ===== */
        .container {
            display: flex;
            min-height: 100vh;
        }

        /* ===== SIDEBAR ===== */
        .sidebar {
            width: 250px;
            background: var(--bg-sidebar);
            color: white;
            padding: 1.5rem 0;
            display: flex;
            flex-direction: column;
            position: sticky;
            top: 0;
            height: 100vh;
            transition: var(--transition);
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0 1.5rem 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo i {
            font-size: 2rem;
            color: var(--primary-light);
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .nav-menu {
            flex: 1;
            padding: 2rem 0;
        }

        .nav-menu ul {
            list-style: none;
        }

        .nav-menu li {
            margin-bottom: 0.5rem;
        }

        .nav-menu a {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 1.5rem;
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
            border-left: 3px solid transparent;
        }

        .nav-menu a:hover {
            color: white;
            background: rgba(255, 255, 255, 0.05);
        }

        .nav-menu li.active a {
            color: white;
            background: rgba(255, 255, 255, 0.1);
            border-left-color: var(--primary);
        }

        .nav-menu i {
            width: 20px;
            text-align: center;
        }

        .user-profile {
            padding: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-profile img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .user-profile h3 {
            font-size: 0.875rem;
            font-weight: 600;
        }

        .user-profile p {
            font-size: 0.75rem;
            color: var(--text-light);
        }

        /* ===== MAIN CONTENT ===== */
        .main-content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        /* ===== HEADER ===== */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .header h2 {
            font-size: 1.875rem;
            font-weight: 700;
            background: var(--bg-gradient-sales);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .search-box {
            position: relative;
            min-width: 250px;
        }

        .search-box i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }

        .search-box input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 0.875rem;
            transition: var(--transition);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: var(--shadow-green);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .notification-btn {
            position: relative;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-primary);
            transition: var(--transition);
            display: none;
        }

        .notification-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger);
            color: white;
            font-size: 0.75rem;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .date-filter select {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 0.875rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .date-filter select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .new-order-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .new-order-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: var(--shadow-green);
        }

        /* ===== SALES HERO ===== */
        .sales-hero {
            background: var(--bg-gradient-sales);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 2rem;
            box-shadow: var(--shadow-green);
            position: relative;
            overflow: hidden;
        }

        .sales-hero::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            transform: translate(50%, -50%);
        }

        .hero-content h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .hero-content p {
            opacity: 0.9;
            margin-bottom: 1rem;
            max-width: 500px;
        }

        .hero-stats {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .hero-stat {
            text-align: center;
        }

        .hero-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .hero-label {
            font-size: 0.875rem;
            opacity: 0.8;
        }

        /* ===== SALES METRICS ===== */
        .sales-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .metric-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: var(--transition);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .metric-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary);
        }

        .metric-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.25rem;
        }

        .icon-revenue {
            background: rgba(16, 185, 129, 0.1);
            color: var(--primary);
        }

        .icon-orders {
            background: rgba(59, 130, 246, 0.1);
            color: var(--secondary);
        }

        .icon-aov {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .icon-growth {
            background: rgba(139, 92, 246, 0.1);
            color: var(--purple);
        }

        .metric-card h3 {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .metric-card .value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .metric-change {
            font-size: 0.875rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.25rem;
        }

        .metric-change.positive {
            color: var(--primary);
        }

        .metric-change.negative {
            color: var(--danger);
        }

        /* ===== SALES CHARTS SECTION ===== */
        .charts-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .chart-container {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .chart-container:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .chart-header h3 {
            font-size: 1.125rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chart-header h3 i {
            color: var(--primary);
        }

        .chart-actions {
            display: flex;
            gap: 0.5rem;
        }

        .chart-btn {
            padding: 0.25rem 0.75rem;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-secondary);
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .chart-btn:hover,
        .chart-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .chart-wrapper {
            height: 300px;
            position: relative;
        }

        /* ===== TOP PRODUCTS ===== */
        .top-products {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .section-header h3 {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .product-card {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-radius: var(--radius-sm);
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .product-card:hover {
            transform: translateX(5px);
            border-color: var(--primary);
        }

        .product-rank {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--bg-card);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .rank-1 {
            background: var(--primary);
            color: white;
        }

        .rank-2 {
            background: var(--secondary);
            color: white;
        }

        .rank-3 {
            background: var(--warning);
            color: white;
        }

        .product-image {
            width: 60px;
            height: 60px;
            border-radius: var(--radius-sm);
            background: linear-gradient(45deg, var(--primary-light), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        .product-info {
            flex: 1;
        }

        .product-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .product-category {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .product-stats {
            text-align: right;
        }

        .product-revenue {
            font-weight: 700;
            font-size: 1.125rem;
            margin-bottom: 0.25rem;
            color: var(--primary);
        }

        .product-sales {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        /* ===== SALES TABLE ===== */
        .sales-table-section {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .table-filters {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .filter-group {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-secondary);
            border-radius: var(--radius-sm);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .table-wrapper {
            overflow-x: auto;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border-color);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }

        thead {
            background: var(--bg-primary);
        }

        th {
            padding: 1rem;
            text-align: left;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-secondary);
            border-bottom: 2px solid var(--border-color);
        }

        td {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.875rem;
        }

        tbody tr {
            transition: var(--transition);
        }

        tbody tr:hover {
            background: var(--bg-primary);
        }

        .customer-cell {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .customer-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
        }

        .customer-info h4 {
            font-weight: 600;
            font-size: 0.875rem;
        }

        .customer-info p {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .status {
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .status.completed {
            background: #d1fae5;
            color: #065f46;
        }

        .status.pending {
            background: #fef3c7;
            color: #92400e;
        }

        .status.processing {
            background: #dbeafe;
            color: #1e40af;
        }

        .status.cancelled {
            background: #fee2e2;
            color: #991b1b;
        }

        .amount {
            font-weight: 700;
            color: var(--primary);
        }

        /* ===== REGIONAL SALES ===== */
        .regional-sales {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .region-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .region-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .region-header h4 {
            font-size: 1rem;
            font-weight: 600;
        }

        .region-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            text-align: center;
        }

        .region-stat .value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .region-stat .label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .region-progress {
            margin-top: 1rem;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .progress-bar {
            height: 6px;
            background: var(--bg-primary);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 1s ease;
        }

        .progress-fill.north {
            background: var(--primary);
        }

        .progress-fill.south {
            background: var(--secondary);
        }

        .progress-fill.east {
            background: var(--warning);
        }

        .progress-fill.west {
            background: var(--purple);
        }

        /* ===== SALES PIPELINE ===== */
        .sales-pipeline {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .pipeline-stages {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .pipeline-stage {
            text-align: center;
        }

        .stage-indicator {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-weight: 700;
            font-size: 1.25rem;
            position: relative;
        }

        .stage-indicator::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 100%;
            width: calc(100% + 1.5rem);
            height: 2px;
            background: var(--border-color);
            z-index: 1;
        }

        .pipeline-stage:last-child .stage-indicator::after {
            display: none;
        }

        .stage-lead {
            background: rgba(59, 130, 246, 0.1);
            color: var(--secondary);
        }

        .stage-qualified {
            background: rgba(139, 92, 246, 0.1);
            color: var(--purple);
        }

        .stage-proposal {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .stage-negotiation {
            background: rgba(16, 185, 129, 0.1);
            color: var(--primary);
        }

        .stage-closed {
            background: var(--primary);
            color: white;
        }

        .stage-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0.5rem 0;
        }

        .stage-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        /* ===== SALES TEAM ===== */
        .sales-team {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .team-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .team-member {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .member-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
        }

        .member-info h4 {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .member-info p {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .member-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            text-align: center;
        }

        .member-stat .value {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .member-stat .label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 1024px) {
            .sidebar {
                width: 70px;
            }

            .logo h1,
            .nav-menu span,
            .user-profile div {
                display: none;
            }

            .logo {
                justify-content: center;
                padding: 0 0 2rem;
            }

            .nav-menu a {
                justify-content: center;
                padding: 0.75rem;
            }

            .user-profile {
                justify-content: center;
                padding: 1rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                position: static;
                flex-direction: row;
                justify-content: space-between;
                padding: 1rem;
            }

            .logo {
                padding: 0;
                border-bottom: none;
            }

            .nav-menu {
                padding: 0;
            }

            .nav-menu ul {
                display: flex;
                gap: 1rem;
            }

            .nav-menu a {
                border-left: none;
                border-bottom: 3px solid transparent;
            }

            .nav-menu li.active a {
                border-left: none;
                border-bottom-color: var(--primary);
            }

            .user-profile {
                padding: 0;
                border-top: none;
            }

            .main-content {
                padding: 1rem;
            }

            .charts-section,
            .products-grid,
            .regional-sales,
            .sales-team {
                grid-template-columns: 1fr;
            }

            .sales-metrics {
                grid-template-columns: repeat(2, 1fr);
            }

            .header {
                flex-direction: column;
                align-items: flex-start;
            }

            .header-right {
                width: 100%;
            }

            .search-box {
                min-width: 100%;
            }

            .sales-hero {
                flex-direction: column;
                text-align: center;
            }

            .pipeline-stages {
                grid-template-columns: 1fr;
            }

            .stage-indicator::after {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .sales-metrics {
                grid-template-columns: 1fr;
            }

            .member-stats {
                grid-template-columns: 1fr;
            }

            .region-stats {
                grid-template-columns: 1fr;
            }

            .nav-menu ul {
                gap: 0.5rem;
            }

            .nav-menu a {
                padding: 0.5rem;
            }
        }

        /* ===== ANIMATIONS ===== */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(-20px);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .updated {
            animation: pulse 1s;
        }

        .fa-spinner {
            animation: spin 1s linear infinite;
        }

        .product-card {
            animation: slideIn 0.5s ease;
        }

        /* ===== NOTIFICATION TOAST ===== */
        .notification-toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            padding: 1rem;
            box-shadow: var(--shadow-xl);
            z-index: 10000;
            max-width: 300px;
            animation: fadeIn 0.3s ease;
        }

        .toast-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .toast-close {
            margin-left: auto;
            background: none;
            border: none;
            font-size: 1.25rem;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .toast-body {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        /* ===== LOADING OVERLAY ===== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--border-color);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* ===== MODAL STYLES ===== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            padding: 1rem;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 2rem;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-xl);
            animation: fadeIn 0.3s ease;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-header h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-secondary);
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
        }

        .modal-close:hover {
            background: var(--bg-primary);
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button id="themeBtn" class="theme-btn">
            <i class="fas fa-moon"></i>
            <span>Dark Mode</span>
        </button>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <i class="fas fa-chart-line"></i>
                <h1>DataViz Pro</h1>
            </div>

            <nav class="nav-menu">
                <ul>
                    <li>
                        <a href="index.html">
                            <i class="fas fa-home"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="Analytics.html">
                            <i class="fas fa-chart-bar"></i>
                            <span>Analytics</span>
                        </a>
                    </li>
                    <li>
                        <a href="Marketing.html">
                            <i class="fas fa-bullhorn"></i>
                            <span>Marketing</span>
                        </a>
                    </li>
                    <li class="active">
                        <a href="Sales.html">
                            <i class="fas fa-shopping-cart"></i>
                            <span>Sales</span>
                        </a>
                    </li>
                    <li>
                        <a href="Reports.html">
                            <i class="fas fa-file-alt"></i>
                            <span>Reports</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="user-profile">
                <img src="https://ui-avatars.com/api/?name=Sales+Manager&background=10b981&color=fff" alt="User">
                <div>
                    <h3>Sarah Johnson</h3>
                    <p>Sales Director</p>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content" id="sales">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <h2>Sales Analytics</h2>
                    <p class="subtitle">Track revenue, orders, and sales performance in real-time</p>
                </div>

                <div class="header-right">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search orders, customers, products...">
                    </div>

                    <div class="header-actions">
                        <button class="notification-btn">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge">3</span>
                        </button>

                        <div class="date-filter">
                            <select id="dateRange">
                                <option value="today">Today</option>
                                <option value="week">This Week</option>
                                <option value="month" selected>This Month</option>
                                <option value="quarter">This Quarter</option>
                                <option value="year">This Year</option>
                                <option value="custom">Custom Range</option>
                            </select>
                        </div>

                        <button class="new-order-btn" id="newOrderBtn">
                            <i class="fas fa-plus"></i>
                            New Order
                        </button>
                    </div>
                </div>
            </header>

            <!-- Sales Hero -->
            <section class="sales-hero">
                <div class="hero-content">
                    <h3>Q4 Sales Performance</h3>
                    <p>Record-breaking quarter with 28% revenue growth. Target exceeded by 12%.</p>
                </div>
                <div class="hero-stats">
                    <div class="hero-stat">
                        <div class="hero-value">$2.8M</div>
                        <div class="hero-label">Quarter Revenue</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-value">1,248</div>
                        <div class="hero-label">Total Orders</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-value">28%</div>
                        <div class="hero-label">Growth Rate</div>
                    </div>
                </div>
            </section>

            <!-- Sales Metrics -->
            <section class="sales-metrics">
                <div class="metric-card">
                    <div class="metric-icon icon-revenue">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <h3>Total Revenue</h3>
                    <div class="value" id="revenueValue">$124,580</div>
                    <div class="metric-change positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>12.5% from last month</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-icon icon-orders">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <h3>Total Orders</h3>
                    <div class="value" id="ordersValue">1,842</div>
                    <div class="metric-change positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>8.2% from last month</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-icon icon-aov">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h3>Avg. Order Value</h3>
                    <div class="value" id="aovValue">$142.50</div>
                    <div class="metric-change positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>4.3% from last month</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-icon icon-growth">
                        <i class="fas fa-trend-up"></i>
                    </div>
                    <h3>Growth Rate</h3>
                    <div class="value" id="growthValue">18.7%</div>
                    <div class="metric-change positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>3.1% from last month</span>
                    </div>
                </div>
            </section>

            <!-- Charts Section -->
            <section class="charts-section">
                <!-- Revenue Trend Chart -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-chart-line"></i> Revenue Trend</h3>
                        <div class="chart-actions">
                            <button class="chart-btn active" data-metric="revenue">Revenue</button>
                            <button class="chart-btn" data-metric="orders">Orders</button>
                            <button class="chart-btn" data-metric="profit">Profit</button>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="revenueChart"></canvas>
                    </div>
                </div>

                <!-- Sales by Category -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-chart-pie"></i> Sales by Category</h3>
                        <div class="chart-actions">
                            <button class="chart-btn active" data-metric="revenue">Revenue</button>
                            <button class="chart-btn" data-metric="units">Units</button>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Top Products -->
            <section class="top-products">
                <div class="section-header">
                    <h3>Top Performing Products</h3>
                    <button class="new-order-btn" style="background: var(--secondary);">
                        <i class="fas fa-filter"></i>
                        Filter Products
                    </button>
                </div>
                <div class="products-grid" id="productsGrid">
                    <!-- Products will be populated by JavaScript -->
                </div>
            </section>

            <!-- Recent Orders Table -->
            <section class="sales-table-section">
                <div class="table-filters">
                    <div class="filter-group">
                        <button class="filter-btn active" data-status="all">
                            <i class="fas fa-list"></i>
                            All Orders
                        </button>
                        <button class="filter-btn" data-status="completed">
                            <i class="fas fa-check-circle"></i>
                            Completed
                        </button>
                        <button class="filter-btn" data-status="pending">
                            <i class="fas fa-clock"></i>
                            Pending
                        </button>
                        <button class="filter-btn" data-status="processing">
                            <i class="fas fa-sync"></i>
                            Processing
                        </button>
                    </div>

                    <button class="new-order-btn" style="background: var(--purple);">
                        <i class="fas fa-download"></i>
                        Export Data
                    </button>
                </div>

                <div class="table-wrapper">
                    <table id="ordersTable">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Date</th>
                                <th>Products</th>
                                <th>Status</th>
                                <th>Amount</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="ordersTableBody">
                            <!-- Orders will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Regional Sales -->
            <section class="regional-sales">
                <div class="region-card">
                    <div class="region-header">
                        <h4>North Region</h4>
                        <span class="metric-change positive">
                            <i class="fas fa-arrow-up"></i>
                            15.2%
                        </span>
                    </div>
                    <div class="region-stats">
                        <div class="region-stat">
                            <div class="value">$42,800</div>
                            <div class="label">Revenue</div>
                        </div>
                        <div class="region-stat">
                            <div class="value">312</div>
                            <div class="label">Orders</div>
                        </div>
                    </div>
                    <div class="region-progress">
                        <div class="progress-label">
                            <span>Target Progress</span>
                            <span>85%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill north" style="width: 85%"></div>
                        </div>
                    </div>
                </div>

                <div class="region-card">
                    <div class="region-header">
                        <h4>South Region</h4>
                        <span class="metric-change positive">
                            <i class="fas fa-arrow-up"></i>
                            8.7%
                        </span>
                    </div>
                    <div class="region-stats">
                        <div class="region-stat">
                            <div class="value">$38,400</div>
                            <div class="label">Revenue</div>
                        </div>
                        <div class="region-stat">
                            <div class="value">284</div>
                            <div class="label">Orders</div>
                        </div>
                    </div>
                    <div class="region-progress">
                        <div class="progress-label">
                            <span>Target Progress</span>
                            <span>72%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill south" style="width: 72%"></div>
                        </div>
                    </div>
                </div>

                <div class="region-card">
                    <div class="region-header">
                        <h4>East Region</h4>
                        <span class="metric-change positive">
                            <i class="fas fa-arrow-up"></i>
                            22.1%
                        </span>
                    </div>
                    <div class="region-stats">
                        <div class="region-stat">
                            <div class="value">$45,200</div>
                            <div class="label">Revenue</div>
                        </div>
                        <div class="region-stat">
                            <div class="value">348</div>
                            <div class="label">Orders</div>
                        </div>
                    </div>
                    <div class="region-progress">
                        <div class="progress-label">
                            <span>Target Progress</span>
                            <span>92%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill east" style="width: 92%"></div>
                        </div>
                    </div>
                </div>

                <div class="region-card">
                    <div class="region-header">
                        <h4>West Region</h4>
                        <span class="metric-change positive">
                            <i class="fas fa-arrow-up"></i>
                            12.4%
                        </span>
                    </div>
                    <div class="region-stats">
                        <div class="region-stat">
                            <div class="value">$35,800</div>
                            <div class="label">Revenue</div>
                        </div>
                        <div class="region-stat">
                            <div class="value">265</div>
                            <div class="label">Orders</div>
                        </div>
                    </div>
                    <div class="region-progress">
                        <div class="progress-label">
                            <span>Target Progress</span>
                            <span>68%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill west" style="width: 68%"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sales Pipeline -->
            <section class="sales-pipeline">
                <div class="section-header">
                    <h3>Sales Pipeline</h3>
                    <span class="metric-change positive">
                        <i class="fas fa-arrow-up"></i>
                        Total Value: $1.2M
                    </span>
                </div>
                <div class="pipeline-stages">
                    <div class="pipeline-stage">
                        <div class="stage-indicator stage-lead">120</div>
                        <div class="stage-value">$240K</div>
                        <div class="stage-label">Leads</div>
                    </div>

                    <div class="pipeline-stage">
                        <div class="stage-indicator stage-qualified">85</div>
                        <div class="stage-value">$180K</div>
                        <div class="stage-label">Qualified</div>
                    </div>

                    <div class="pipeline-stage">
                        <div class="stage-indicator stage-proposal">42</div>
                        <div class="stage-value">$360K</div>
                        <div class="stage-label">Proposal</div>
                    </div>

                    <div class="pipeline-stage">
                        <div class="stage-indicator stage-negotiation">18</div>
                        <div class="stage-value">$280K</div>
                        <div class="stage-label">Negotiation</div>
                    </div>

                    <div class="pipeline-stage">
                        <div class="stage-indicator stage-closed">56</div>
                        <div class="stage-value">$560K</div>
                        <div class="stage-label">Closed Won</div>
                    </div>
                </div>
            </section>

            <!-- Sales Team Performance -->
            <section class="sales-team">
                <div class="team-card">
                    <div class="team-member">
                        <img src="https://ui-avatars.com/api/?name=Alex+Chen&background=3b82f6&color=fff"
                            alt="Alex Chen" class="member-avatar">
                        <div class="member-info">
                            <h4>Alex Chen</h4>
                            <p>Senior Sales Executive</p>
                        </div>
                    </div>
                    <div class="member-stats">
                        <div class="member-stat">
                            <div class="value">$142K</div>
                            <div class="label">Revenue</div>
                        </div>
                        <div class="member-stat">
                            <div class="value">24</div>
                            <div class="label">Deals</div>
                        </div>
                        <div class="member-stat">
                            <div class="value">18%</div>
                            <div class="label">Growth</div>
                        </div>
                    </div>
                </div>

                <div class="team-card">
                    <div class="team-member">
                        <img src="https://ui-avatars.com/api/?name=Maria+Garcia&background=8b5cf6&color=fff"
                            alt="Maria Garcia" class="member-avatar">
                        <div class="member-info">
                            <h4>Maria Garcia</h4>
                            <p>Sales Manager</p>
                        </div>
                    </div>
                    <div class="member-stats">
                        <div class="member-stat">
                            <div class="value">$186K</div>
                            <div class="label">Revenue</div>
                        </div>
                        <div class="member-stat">
                            <div class="value">32</div>
                            <div class="label">Deals</div>
                        </div>
                        <div class="member-stat">
                            <div class="value">24%</div>
                            <div class="label">Growth</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- New Order Modal -->
    <div class="modal-overlay" id="newOrderModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Create New Order</h3>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <form id="newOrderForm">
                <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                    <div>
                        <label
                            style="display: block; font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--text-secondary);">Customer</label>
                        <select required
                            style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); background: var(--bg-primary); color: var(--text-primary); font-size: 0.875rem;">
                            <option value="">Select Customer</option>
                            <option value="john">John Smith</option>
                            <option value="sarah">Sarah Johnson</option>
                            <option value="mike">Mike Williams</option>
                            <option value="lisa">Lisa Brown</option>
                        </select>
                    </div>

                    <div>
                        <label
                            style="display: block; font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--text-secondary);">Products</label>
                        <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <div style="display: flex; gap: 0.5rem;">
                                <select
                                    style="flex: 1; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); background: var(--bg-primary); color: var(--text-primary); font-size: 0.875rem;">
                                    <option value="">Select Product</option>
                                    <option value="premium">Premium Package</option>
                                    <option value="basic">Basic Package</option>
                                    <option value="enterprise">Enterprise Solution</option>
                                </select>
                                <input type="number" min="1" value="1"
                                    style="width: 80px; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); background: var(--bg-primary); color: var(--text-primary); font-size: 0.875rem;">
                                <button type="button"
                                    style="padding: 0.75rem 1rem; background: var(--primary); color: white; border: none; border-radius: var(--radius-sm); cursor: pointer;">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div>
                            <label
                                style="display: block; font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--text-secondary);">Order
                                Date</label>
                            <input type="date" required
                                style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); background: var(--bg-primary); color: var(--text-primary); font-size: 0.875rem;">
                        </div>
                        <div>
                            <label
                                style="display: block; font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--text-secondary);">Status</label>
                            <select required
                                style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); background: var(--bg-primary); color: var(--text-primary); font-size: 0.875rem;">
                                <option value="pending">Pending</option>
                                <option value="processing">Processing</option>
                                <option value="completed">Completed</option>
                            </select>
                        </div>
                    </div>

                    <div>
                        <label
                            style="display: block; font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--text-secondary);">Notes</label>
                        <textarea rows="3"
                            style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); background: var(--bg-primary); color: var(--text-primary); font-size: 0.875rem;"
                            placeholder="Order notes..."></textarea>
                    </div>

                    <button type="submit"
                        style="padding: 0.75rem; background: var(--primary); color: white; border: none; border-radius: var(--radius-sm); cursor: pointer; font-weight: 600; font-size: 0.875rem; margin-top: 1rem;">
                        Create Order
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // ===== SALES DATA =====
        const salesData = {
            revenueTrend: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                revenue: [85000, 102000, 98000, 110000, 125000, 118000, 134000, 142000, 138000, 152000, 168000, 185000],
                orders: [512, 624, 588, 712, 825, 778, 892, 945, 918, 1024, 1136, 1248],
                profit: [42500, 51000, 49000, 55000, 62500, 59000, 67000, 71000, 69000, 76000, 84000, 92500]
            },

            categories: {
                labels: ['Electronics', 'Clothing', 'Home & Garden', 'Books', 'Sports', 'Beauty'],
                revenue: [42000, 38000, 35000, 28000, 32000, 18000],
                units: [1240, 1850, 920, 3150, 680, 1250],
                colors: ['#10b981', '#3b82f6', '#f59e0b', '#8b5cf6', '#ef4444', '#06b6d4']
            },

            topProducts: [
                { id: 1, name: "Wireless Headphones", category: "Electronics", revenue: "$42,800", sales: 856, growth: 24 },
                { id: 2, name: "Smart Watch Pro", category: "Electronics", revenue: "$38,400", sales: 640, growth: 18 },
                { id: 3, name: "Premium Laptop", category: "Electronics", revenue: "$35,200", sales: 320, growth: 32 },
                { id: 4, name: "Designer Jacket", category: "Clothing", revenue: "$28,800", sales: 960, growth: 12 },
                { id: 5, name: "Smart Home Hub", category: "Home & Garden", revenue: "$25,600", sales: 512, growth: 28 },
                { id: 6, name: "Fitness Tracker", category: "Sports", revenue: "$22,400", sales: 896, growth: 15 }
            ],

            recentOrders: [
                { id: '#ORD-7849', customer: 'Alex Johnson', email: 'alex@email.com', date: '2024-12-15', products: 3, status: 'completed', amount: '$289.99' },
                { id: '#ORD-7848', customer: 'Maria Garcia', email: 'maria@email.com', date: '2024-12-14', products: 1, status: 'pending', amount: '$149.50' },
                { id: '#ORD-7847', customer: 'David Smith', email: 'david@email.com', date: '2024-12-14', products: 2, status: 'completed', amount: '$599.99' },
                { id: '#ORD-7846', customer: 'Sarah Wilson', email: 'sarah@email.com', date: '2024-12-13', products: 1, status: 'processing', amount: '$89.99' },
                { id: '#ORD-7845', customer: 'James Brown', email: 'james@email.com', date: '2024-12-12', products: 4, status: 'completed', amount: '$199.99' },
                { id: '#ORD-7844', customer: 'Lisa Taylor', email: 'lisa@email.com', date: '2024-12-12', products: 2, status: 'completed', amount: '$349.99' },
                { id: '#ORD-7843', customer: 'Robert Lee', email: 'robert@email.com', date: '2024-12-11', products: 1, status: 'pending', amount: '$129.99' },
                { id: '#ORD-7842', customer: 'Emma Davis', email: 'emma@email.com', date: '2024-12-10', products: 3, status: 'completed', amount: '$79.99' },
                { id: '#ORD-7841', customer: 'Michael Chen', email: 'michael@email.com', date: '2024-12-09', products: 2, status: 'processing', amount: '$249.99' },
                { id: '#ORD-7840', customer: 'Olivia Martin', email: 'olivia@email.com', date: '2024-12-08', products: 1, status: 'completed', amount: '$179.99' }
            ],

            salesMetrics: {
                revenue: 124580,
                orders: 1842,
                aov: 142.50,
                growth: 18.7
            }
        };

        // ===== DASHBOARD INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function () {
            initializeTheme();
            initializeCharts();
            initializeProducts();
            initializeOrdersTable();
            initializeEventListeners();
            initializeRealTimeUpdates();
            simulateLoading();
        });

        // ===== THEME MANAGEMENT =====
        function initializeTheme() {
            const themeBtn = document.getElementById('themeBtn');
            const themeIcon = themeBtn.querySelector('i');
            const themeText = themeBtn.querySelector('span');

            const savedTheme = localStorage.getItem('salesTheme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                document.body.classList.add('dark-theme');
                themeIcon.className = 'fas fa-sun';
                themeText.textContent = 'Light Mode';
            }

            themeBtn.addEventListener('click', () => {
                document.body.classList.toggle('dark-theme');

                if (document.body.classList.contains('dark-theme')) {
                    themeIcon.className = 'fas fa-sun';
                    themeText.textContent = 'Light Mode';
                    localStorage.setItem('salesTheme', 'dark');
                } else {
                    themeIcon.className = 'fas fa-moon';
                    themeText.textContent = 'Dark Mode';
                    localStorage.setItem('salesTheme', 'light');
                }
            });
        }

        // ===== CHARTS INITIALIZATION =====
        function initializeCharts() {
            // Revenue Trend Chart
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            window.revenueChart = new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: salesData.revenueTrend.labels,
                    datasets: [{
                        label: 'Revenue',
                        data: salesData.revenueTrend.revenue,
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 4,
                        pointHoverRadius: 6
                    }]
                },
                options: getLineChartOptions('$')
            });

            // Category Chart
            const categoryCtx = document.getElementById('categoryChart').getContext('2d');
            window.categoryChart = new Chart(categoryCtx, {
                type: 'doughnut',
                data: {
                    labels: salesData.categories.labels,
                    datasets: [{
                        data: salesData.categories.revenue,
                        backgroundColor: salesData.categories.colors,
                        borderWidth: 1,
                        borderColor: 'var(--bg-card)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                padding: 20,
                                usePointStyle: true,
                                color: 'var(--text-primary)',
                                font: {
                                    size: 11
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function (context) {
                                    return `$${context.parsed.toLocaleString()}`;
                                }
                            }
                        },
                        datalabels: {
                            color: 'white',
                            font: {
                                weight: 'bold',
                                size: 11
                            },
                            formatter: (value, context) => {
                                const sum = context.dataset.data.reduce((a, b) => a + b, 0);
                                const percentage = Math.round((value / sum) * 100);
                                return percentage + '%';
                            }
                        }
                    },
                    cutout: '65%'
                },
                plugins: [ChartDataLabels]
            });
        }

        // ===== CHART OPTIONS =====
        function getLineChartOptions(prefix = '') {
            return {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        backgroundColor: 'var(--bg-card)',
                        titleColor: 'var(--text-primary)',
                        bodyColor: 'var(--text-primary)',
                        borderColor: 'var(--border-color)',
                        borderWidth: 1,
                        callbacks: {
                            label: function (context) {
                                return `${prefix}${context.parsed.y.toLocaleString()}`;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' },
                        ticks: {
                            color: 'var(--text-secondary)',
                            callback: function (value) {
                                return prefix + value.toLocaleString();
                            }
                        }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: 'var(--text-secondary)' }
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index'
                }
            };
        }

        // ===== PRODUCTS INITIALIZATION =====
        function initializeProducts() {
            const productsGrid = document.getElementById('productsGrid');
            productsGrid.innerHTML = '';

            salesData.topProducts.forEach((product, index) => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.dataset.id = product.id;

                const iconMap = {
                    'Electronics': 'fas fa-laptop',
                    'Clothing': 'fas fa-tshirt',
                    'Home & Garden': 'fas fa-home',
                    'Books': 'fas fa-book',
                    'Sports': 'fas fa-running',
                    'Beauty': 'fas fa-spa'
                };

                productCard.innerHTML = `
                    <div class="product-rank rank-${index + 1}">${index + 1}</div>
                    <div class="product-image">
                        <i class="${iconMap[product.category] || 'fas fa-box'}"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <div class="product-category">${product.category}</div>
                    </div>
                    <div class="product-stats">
                        <div class="product-revenue">${product.revenue}</div>
                        <div class="product-sales">${product.sales.toLocaleString()} units</div>
                    </div>
                `;

                productsGrid.appendChild(productCard);

                // Add click event
                productCard.addEventListener('click', function () {
                    showProductDetails(product);
                });
            });
        }

        // ===== ORDERS TABLE INITIALIZATION =====
        function initializeOrdersTable() {
            const tableBody = document.getElementById('ordersTableBody');
            tableBody.innerHTML = '';

            salesData.recentOrders.forEach(order => {
                const row = document.createElement('tr');

                const statusClass = order.status === 'completed' ? 'completed' :
                    order.status === 'pending' ? 'pending' : 'processing';

                row.innerHTML = `
                    <td><strong>${order.id}</strong></td>
                    <td>
                        <div class="customer-cell">
                            <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(order.customer)}&background=10b981&color=fff" class="customer-avatar" alt="${order.customer}">
                            <div class="customer-info">
                                <h4>${order.customer}</h4>
                                <p>${order.email}</p>
                            </div>
                        </div>
                    </td>
                    <td>${formatDate(order.date)}</td>
                    <td>${order.products} item${order.products > 1 ? 's' : ''}</td>
                    <td><span class="status ${statusClass}">${order.status.charAt(0).toUpperCase() + order.status.slice(1)}</span></td>
                    <td class="amount">${order.amount}</td>
                    <td>
                        <button class="filter-btn" onclick="viewOrder('${order.id}')" style="padding: 0.25rem 0.5rem; font-size: 0.75rem;">
                            <i class="fas fa-eye"></i>
                        </button>
                    </td>
                `;

                tableBody.appendChild(row);
            });
        }

        // ===== EVENT LISTENERS =====
        function initializeEventListeners() {
            // Date Range Filter
            document.getElementById('dateRange').addEventListener('change', function () {
                showLoading();
                setTimeout(() => {
                    updateDashboardData(this.value);
                    hideLoading();
                    showNotification('Data updated', `Showing sales data for ${this.options[this.selectedIndex].text}`);
                }, 800);
            });

            // Chart Metric Buttons
            document.querySelectorAll('.chart-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const chartContainer = this.closest('.chart-container');
                    const metric = this.dataset.metric;

                    chartContainer.querySelectorAll('.chart-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    if (chartContainer.querySelector('#revenueChart')) {
                        updateRevenueChart(metric);
                    } else {
                        updateCategoryChart(metric);
                    }
                });
            });

            // Order Filter Buttons
            document.querySelectorAll('.filter-btn[data-status]').forEach(btn => {
                btn.addEventListener('click', function () {
                    document.querySelectorAll('.filter-btn[data-status]').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    const status = this.dataset.status;
                    filterOrdersTable(status);
                });
            });

            // New Order Button
            document.getElementById('newOrderBtn').addEventListener('click', function () {
                document.getElementById('newOrderModal').classList.add('active');
            });

            // Close Modal
            document.getElementById('closeModal').addEventListener('click', function () {
                document.getElementById('newOrderModal').classList.remove('active');
            });

            // New Order Form
            document.getElementById('newOrderForm').addEventListener('submit', function (e) {
                e.preventDefault();
                createNewOrder(this);
            });

            // Search Functionality
            const searchInput = document.querySelector('.search-box input');
            searchInput.addEventListener('input', function () {
                searchOrders(this.value);
            });
        }

        // ===== CHART UPDATES =====
        function updateRevenueChart(metric) {
            const chart = window.revenueChart;
            let newData, label, prefix = '$';

            switch (metric) {
                case 'revenue':
                    newData = salesData.revenueTrend.revenue;
                    label = 'Revenue';
                    break;
                case 'orders':
                    newData = salesData.revenueTrend.orders;
                    label = 'Orders';
                    prefix = '';
                    break;
                case 'profit':
                    newData = salesData.revenueTrend.profit;
                    label = 'Profit';
                    break;
            }

            chart.data.datasets[0].data = newData;
            chart.data.datasets[0].label = label;
            chart.options.scales.y.ticks.callback = function (value) {
                return prefix + value.toLocaleString();
            };
            chart.update();
        }

        function updateCategoryChart(metric) {
            const chart = window.categoryChart;
            let newData;

            if (metric === 'revenue') {
                newData = salesData.categories.revenue;
                chart.options.plugins.tooltip.callbacks.label = function (context) {
                    return `$${context.parsed.toLocaleString()}`;
                };
            } else {
                newData = salesData.categories.units;
                chart.options.plugins.tooltip.callbacks.label = function (context) {
                    return `${context.parsed.toLocaleString()} units`;
                };
            }

            chart.data.datasets[0].data = newData;
            chart.update();
        }

        // ===== ORDER FUNCTIONS =====
        function createNewOrder(form) {
            showLoading();

            setTimeout(() => {
                // Generate new order ID
                const lastOrder = salesData.recentOrders[0];
                const lastId = parseInt(lastOrder.id.replace('#ORD-', ''));
                const newId = `#ORD-${lastId + 1}`;

                // Create new order
                const newOrder = {
                    id: newId,
                    customer: form.querySelector('select').options[form.querySelector('select').selectedIndex].text,
                    email: 'new@customer.com',
                    date: new Date().toISOString().split('T')[0],
                    products: 1,
                    status: form.querySelectorAll('select')[1].value,
                    amount: '$' + (Math.random() * 500 + 50).toFixed(2)
                };

                // Add to beginning of array
                salesData.recentOrders.unshift(newOrder);

                // Update table
                initializeOrdersTable();

                // Update metrics
                updateSalesMetrics();

                // Close modal
                document.getElementById('newOrderModal').classList.remove('active');
                form.reset();
                hideLoading();

                showNotification('Order Created', `New order ${newId} has been created successfully`);
            }, 1000);
        }

        function viewOrder(orderId) {
            const order = salesData.recentOrders.find(o => o.id === orderId);
            if (!order) return;

            const modalHtml = `
                <div class="modal-overlay active" onclick="this.classList.remove('active')">
                    <div class="modal" onclick="event.stopPropagation()">
                        <div class="modal-header">
                            <h3>Order Details: ${order.id}</h3>
                            <button class="modal-close" onclick="this.closest('.modal-overlay').classList.remove('active')">&times;</button>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div>
                                    <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Customer</div>
                                    <div style="font-weight: 600;">${order.customer}</div>
                                </div>
                                <div>
                                    <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Email</div>
                                    <div>${order.email}</div>
                                </div>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div>
                                    <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Date</div>
                                    <div>${formatDate(order.date)}</div>
                                </div>
                                <div>
                                    <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Status</div>
                                    <div><span class="status ${order.status}">${order.status.charAt(0).toUpperCase() + order.status.slice(1)}</span></div>
                                </div>
                            </div>
                            
                            <div>
                                <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Amount</div>
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">${order.amount}</div>
                            </div>
                            
                            <div>
                                <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.75rem;">Order Items</div>
                                <div style="background: var(--bg-primary); border-radius: var(--radius-sm); padding: 1rem;">
                                    <div style="display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">
                                        <div>Product Name</div>
                                        <div>Quantity</div>
                                        <div>Price</div>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 0.5rem 0;">
                                        <div>Sample Product</div>
                                        <div>1</div>
                                        <div>${order.amount}</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                                <button onclick="updateOrderStatus('${order.id}', 'processing')" style="flex: 1; padding: 0.75rem; background: var(--warning); color: white; border: none; border-radius: var(--radius-sm); cursor: pointer; font-size: 0.875rem;">
                                    <i class="fas fa-sync"></i> Mark Processing
                                </button>
                                <button onclick="updateOrderStatus('${order.id}', 'completed')" style="flex: 1; padding: 0.75rem; background: var(--primary); color: white; border: none; border-radius: var(--radius-sm); cursor: pointer; font-size: 0.875rem;">
                                    <i class="fas fa-check"></i> Mark Completed
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', modalHtml);
        }

        function updateOrderStatus(orderId, status) {
            const orderIndex = salesData.recentOrders.findIndex(o => o.id === orderId);
            if (orderIndex !== -1) {
                salesData.recentOrders[orderIndex].status = status;
                initializeOrdersTable();
                showNotification('Order Updated', `Order ${orderId} marked as ${status}`);

                // Close modal
                document.querySelector('.modal-overlay.active').classList.remove('active');
            }
        }

        function filterOrdersTable(status) {
            const rows = document.querySelectorAll('#ordersTableBody tr');

            rows.forEach(row => {
                if (status === 'all') {
                    row.style.display = '';
                    return;
                }

                const statusCell = row.querySelector('.status');
                if (statusCell && statusCell.classList.contains(status)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        function searchOrders(query) {
            const rows = document.querySelectorAll('#ordersTableBody tr');
            const searchTerm = query.toLowerCase().trim();

            rows.forEach(row => {
                if (!searchTerm) {
                    row.style.display = '';
                    return;
                }

                const customer = row.querySelector('.customer-info h4')?.textContent.toLowerCase() || '';
                const email = row.querySelector('.customer-info p')?.textContent.toLowerCase() || '';
                const orderId = row.querySelector('td:first-child')?.textContent.toLowerCase() || '';
                const amount = row.querySelector('.amount')?.textContent.toLowerCase() || '';

                if (customer.includes(searchTerm) ||
                    email.includes(searchTerm) ||
                    orderId.includes(searchTerm) ||
                    amount.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        // ===== PRODUCT FUNCTIONS =====
        function showProductDetails(product) {
            const modalHtml = `
                <div class="modal-overlay active" onclick="this.classList.remove('active')">
                    <div class="modal" onclick="event.stopPropagation()">
                        <div class="modal-header">
                            <h3>${product.name}</h3>
                            <button class="modal-close" onclick="this.closest('.modal-overlay').classList.remove('active')">&times;</button>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div>
                                    <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Category</div>
                                    <div style="font-weight: 600;">${product.category}</div>
                                </div>
                                <div>
                                    <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Total Revenue</div>
                                    <div style="font-weight: 700; color: var(--primary);">${product.revenue}</div>
                                </div>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div>
                                    <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Units Sold</div>
                                    <div style="font-weight: 600;">${product.sales.toLocaleString()}</div>
                                </div>
                                <div>
                                    <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Growth</div>
                                    <div style="font-weight: 600; color: var(--primary);">+${product.growth}%</div>
                                </div>
                            </div>
                            
                            <div>
                                <div style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.75rem;">Monthly Sales Trend</div>
                                <div style="height: 200px; display: flex; align-items: flex-end; gap: 8px; padding: 1rem; background: var(--bg-primary); border-radius: var(--radius-sm);">
                                    ${Array.from({ length: 12 }, (_, i) => {
                const height = Math.floor(Math.random() * 60 + 40);
                return `<div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
                                            <div style="width: 12px; height: ${height}px; background: var(--primary); border-radius: 6px;"></div>
                                            <div style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.5rem;">${'JFMAMJJASOND'[i]}</div>
                                        </div>`;
            }).join('')}
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                                <button onclick="analyzeProduct(${product.id})" style="flex: 1; padding: 0.75rem; background: var(--primary); color: white; border: none; border-radius: var(--radius-sm); cursor: pointer; font-size: 0.875rem;">
                                    <i class="fas fa-chart-line"></i> Analyze Performance
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', modalHtml);
        }

        function analyzeProduct(productId) {
            showNotification('Product Analysis', 'Generating detailed performance report...');
        }

        // ===== DASHBOARD UPDATES =====
        function updateDashboardData(timeRange) {
            // Simulate data update based on time range
            const multiplier = timeRange === 'today' ? 0.03 :
                timeRange === 'week' ? 0.25 :
                    timeRange === 'month' ? 1 :
                        timeRange === 'quarter' ? 3 : 12;

            // Update metric cards
            const metrics = [
                { id: 'revenueValue', base: 124580, isCurrency: true },
                { id: 'ordersValue', base: 1842, isCurrency: false },
                { id: 'aovValue', base: 142.50, isCurrency: true, isDecimal: true },
                { id: 'growthValue', base: 18.7, isPercent: true }
            ];

            metrics.forEach(metric => {
                const element = document.getElementById(metric.id);
                const newValue = metric.base * multiplier;
                let displayValue;

                if (metric.isPercent) {
                    displayValue = newValue.toFixed(1) + '%';
                } else if (metric.isCurrency) {
                    if (metric.isDecimal) {
                        displayValue = '$' + newValue.toFixed(2);
                    } else {
                        displayValue = '$' + Math.round(newValue).toLocaleString();
                    }
                } else {
                    displayValue = Math.round(newValue).toLocaleString();
                }

                animateMetricChange(element, displayValue);
            });

            // Update charts
            updateChartsForTimeRange(timeRange);
        }

        function updateChartsForTimeRange(timeRange) {
            // Simulate chart data update
            const chartContainers = document.querySelectorAll('.chart-container');
            chartContainers.forEach(container => {
                const canvas = container.querySelector('canvas');
                canvas.style.opacity = '0.5';

                setTimeout(() => {
                    canvas.style.opacity = '1';
                }, 500);
            });
        }

        function updateSalesMetrics() {
            // Update sales metrics based on new data
            const metrics = [
                { id: 'revenueValue', value: `$${Math.round(salesData.recentOrders.reduce((sum, order) => sum + parseFloat(order.amount.replace('$', '')), 0)).toLocaleString()}` },
                { id: 'ordersValue', value: salesData.recentOrders.length.toLocaleString() },
                { id: 'aovValue', value: '$' + (salesData.recentOrders.reduce((sum, order) => sum + parseFloat(order.amount.replace('$', '')), 0) / salesData.recentOrders.length).toFixed(2) },
                { id: 'growthValue', value: (Math.random() * 5 + 15).toFixed(1) + '%' }
            ];

            metrics.forEach(metric => {
                const element = document.getElementById(metric.id);
                if (element) {
                    element.textContent = metric.value;
                    element.classList.add('updated');
                    setTimeout(() => element.classList.remove('updated'), 1000);
                }
            });
        }

        function animateMetricChange(element, newValue) {
            element.style.transform = 'scale(1.1)';
            element.style.color = 'var(--primary)';

            setTimeout(() => {
                element.textContent = newValue;
                element.style.transform = 'scale(1)';

                setTimeout(() => {
                    element.style.color = '';
                }, 500);
            }, 300);
        }

        // ===== REAL-TIME UPDATES =====
        function initializeRealTimeUpdates() {
            // Update metrics every 30 seconds
            setInterval(() => {
                updateLiveMetrics();
            }, 30000);

            // Simulate new orders
            setInterval(() => {
                simulateNewOrder();
            }, 60000);
        }

        function updateLiveMetrics() {
            // Update random metric
            const metrics = ['revenueValue', 'ordersValue', 'aovValue', 'growthValue'];
            const randomMetric = metrics[Math.floor(Math.random() * metrics.length)];
            const element = document.getElementById(randomMetric);

            if (element) {
                const current = element.textContent;
                let newValue;

                if (randomMetric === 'growthValue') {
                    const currentNum = parseFloat(current);
                    const variation = (Math.random() * 2 - 1); // 1%
                    newValue = Math.max(10, currentNum + variation).toFixed(1) + '%';
                } else if (randomMetric === 'revenueValue') {
                    const currentNum = parseInt(current.replace(/[$,]/g, ''));
                    const variation = Math.floor(currentNum * 0.01); // 1%
                    newValue = '$' + (currentNum + Math.floor(Math.random() * variation * 2 - variation)).toLocaleString();
                } else if (randomMetric === 'aovValue') {
                    const currentNum = parseFloat(current.replace('$', ''));
                    const variation = currentNum * 0.01; // 1%
                    newValue = '$' + (currentNum + (Math.random() * variation * 2 - variation)).toFixed(2);
                } else {
                    const currentNum = parseInt(current.replace(/,/g, ''));
                    const variation = Math.floor(currentNum * 0.01); // 1%
                    newValue = (currentNum + Math.floor(Math.random() * variation * 2 - variation)).toLocaleString();
                }

                element.textContent = newValue;
                element.classList.add('updated');
                setTimeout(() => element.classList.remove('updated'), 1000);
            }
        }

        function simulateNewOrder() {
            // Occasionally add a new order
            if (Math.random() > 0.7) {
                const statuses = ['pending', 'processing', 'completed'];
                const newOrder = {
                    id: `#ORD-${7849 + Math.floor(Math.random() * 100)}`,
                    customer: ['New Customer', 'Returning Buyer', 'VIP Client'][Math.floor(Math.random() * 3)],
                    email: 'customer@example.com',
                    date: new Date().toISOString().split('T')[0],
                    products: Math.floor(Math.random() * 3) + 1,
                    status: statuses[Math.floor(Math.random() * statuses.length)],
                    amount: '$' + (Math.random() * 500 + 50).toFixed(2)
                };

                // Add to beginning of array (keep only last 10)
                salesData.recentOrders.unshift(newOrder);
                if (salesData.recentOrders.length > 10) {
                    salesData.recentOrders.pop();
                }

                // Update table
                initializeOrdersTable();

                // Show notification
                if (Math.random() > 0.5) {
                    showNotification('New Order', `Order ${newOrder.id} received from ${newOrder.customer}`);
                }
            }
        }

        // ===== NOTIFICATION SYSTEM =====
        function showNotification(title, message = '') {
            // Update badge
            const badge = document.querySelector('.notification-badge');
            if (badge) {
                const current = parseInt(badge.textContent) || 0;
                badge.textContent = current + 1;
            }

            // Create toast
            const toast = document.createElement('div');
            toast.className = 'notification-toast';
            toast.innerHTML = `
                <div class="toast-header">
                    <i class="fas fa-shopping-cart" style="color: var(--primary);"></i>
                    <strong>${title}</strong>
                    <button class="toast-close">&times;</button>
                </div>
                ${message ? `<div class="toast-body">${message}</div>` : ''}
            `;

            document.body.appendChild(toast);

            // Close button
            toast.querySelector('.toast-close').addEventListener('click', () => {
                toast.remove();
            });

            // Auto-remove
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.remove();
                }
            }, 5000);
        }

        // ===== LOADING FUNCTIONS =====
        function showLoading() {
            document.getElementById('loadingOverlay').classList.add('active');
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').classList.remove('active');
        }

        function simulateLoading() {
            showLoading();
            setTimeout(() => {
                hideLoading();
            }, 1500);
        }

        // ===== UTILITY FUNCTIONS =====
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('en-US', options);
        }

        // Make functions globally available
        window.viewOrder = viewOrder;
        window.updateOrderStatus = updateOrderStatus;
        window.analyzeProduct = analyzeProduct;
    </script>
</body>

</html>