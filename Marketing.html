<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketing Analytics | DataViz Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <style>
        /* ===== RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Light Theme Colors */
            --primary: #8b5cf6;
            --primary-light: #a78bfa;
            --primary-dark: #7c3aed;
            --secondary: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
            --purple: #8b5cf6;
            --pink: #ec4899;
            --cyan: #06b6d4;

            --bg-primary: #f9fafb;
            --bg-secondary: #ffffff;
            --bg-sidebar: #1f2937;
            --bg-card: #ffffff;
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

            --text-primary: #111827;
            --text-secondary: #6b7280;
            --text-light: #9ca3af;

            --border-color: #e5e7eb;
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            --shadow-purple: 0 10px 15px -3px rgba(139, 92, 246, 0.2);

            --radius: 0.75rem;
            --radius-sm: 0.5rem;
            --radius-lg: 1rem;
            --transition: all 0.3s ease;
        }

        .dark-theme {
            /* Dark Theme Colors */
            --primary: #a78bfa;
            --primary-light: #c4b5fd;
            --primary-dark: #8b5cf6;

            --bg-primary: #111827;
            --bg-secondary: #1f2937;
            --bg-sidebar: #0f172a;
            --bg-card: #1f2937;
            --bg-gradient: linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%);

            --text-primary: #f9fafb;
            --text-secondary: #d1d5db;
            --text-light: #9ca3af;

            --border-color: #374151;
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
            --shadow-purple: 0 10px 15px -3px rgba(139, 92, 246, 0.3);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: var(--transition);
            line-height: 1.5;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ===== THEME TOGGLE ===== */
        .theme-toggle {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
        }

        .theme-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
            z-index: 1001;
        }

        .theme-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-purple);
        }

        /* ===== LAYOUT ===== */
        .container {
            display: flex;
            min-height: 100vh;
        }

        /* ===== SIDEBAR ===== */
        .sidebar {
            width: 250px;
            background: var(--bg-sidebar);
            color: white;
            padding: 1.5rem 0;
            display: flex;
            flex-direction: column;
            position: sticky;
            top: 0;
            height: 100vh;
            transition: var(--transition);
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0 1.5rem 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo i {
            font-size: 2rem;
            color: var(--primary-light);
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .nav-menu {
            flex: 1;
            padding: 2rem 0;
        }

        .nav-menu ul {
            list-style: none;
        }

        .nav-menu li {
            margin-bottom: 0.5rem;
        }

        .nav-menu a {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 1.5rem;
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
            border-left: 3px solid transparent;
        }

        .nav-menu a:hover {
            color: white;
            background: rgba(255, 255, 255, 0.05);
        }

        .nav-menu li.active a {
            color: white;
            background: rgba(255, 255, 255, 0.1);
            border-left-color: var(--primary);
        }

        .nav-menu i {
            width: 20px;
            text-align: center;
        }

        .user-profile {
            padding: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-profile img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .user-profile h3 {
            font-size: 0.875rem;
            font-weight: 600;
        }

        .user-profile p {
            font-size: 0.75rem;
            color: var(--text-light);
        }

        /* ===== MAIN CONTENT ===== */
        .main-content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        /* ===== HEADER ===== */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .header h2 {
            font-size: 1.875rem;
            font-weight: 700;
            background: var(--bg-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .search-box {
            position: relative;
            min-width: 250px;
        }

        .search-box i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }

        .search-box input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 0.875rem;
            transition: var(--transition);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: var(--shadow-purple);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .notification-btn {
            position: relative;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-primary);
            transition: var(--transition);
            display: none;
        }

        .notification-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger);
            color: white;
            font-size: 0.75rem;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .date-filter select {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 0.875rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .date-filter select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .campaign-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .campaign-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
            box-shadow: var(--shadow-purple);
        }

        /* ===== MARKETING HERO ===== */
        .marketing-hero {
            background: var(--bg-gradient);
            border-radius: var(--radius-lg);
            padding: 2rem;
            margin-bottom: 2rem;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 2rem;
            box-shadow: var(--shadow-purple);
        }

        .hero-content h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .hero-content p {
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        .hero-stats {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .hero-stat {
            text-align: center;
        }

        .hero-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .hero-label {
            font-size: 0.875rem;
            opacity: 0.8;
        }

        /* ===== CAMPAIGN GRID ===== */
        .campaign-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .campaign-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .campaign-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary-light);
        }

        .campaign-card.active {
            border-color: var(--primary);
            box-shadow: var(--shadow-purple);
        }

        .campaign-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .campaign-title {
            font-weight: 600;
            font-size: 1.125rem;
        }

        .campaign-status {
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .status-active {
            background: #d1fae5;
            color: #065f46;
        }

        .status-paused {
            background: #fef3c7;
            color: #92400e;
        }

        .status-draft {
            background: #e5e7eb;
            color: #6b7280;
        }

        .campaign-metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin: 1rem 0;
        }

        .metric {
            text-align: center;
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .campaign-progress {
            margin-top: 1rem;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }

        .progress-bar {
            height: 6px;
            background: var(--bg-primary);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 3px;
            background: var(--primary);
            transition: width 1s ease;
        }

        /* ===== METRICS OVERVIEW ===== */
        .metrics-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .metric-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: var(--transition);
            text-align: center;
        }

        .metric-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .metric-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.25rem;
        }

        .icon-impressions {
            background: rgba(139, 92, 246, 0.1);
            color: var(--purple);
        }

        .icon-clicks {
            background: rgba(59, 130, 246, 0.1);
            color: var(--info);
        }

        .icon-conversions {
            background: rgba(16, 185, 129, 0.1);
            color: var(--secondary);
        }

        .icon-roi {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .metric-card h3 {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .metric-card .value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .metric-change {
            font-size: 0.875rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.25rem;
        }

        .metric-change.positive {
            color: var(--secondary);
        }

        .metric-change.negative {
            color: var(--danger);
        }

        /* ===== CHARTS SECTION ===== */
        .charts-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .chart-container {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            transition: var(--transition);
        }

        .chart-container:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .chart-header h3 {
            font-size: 1.125rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .chart-header h3 i {
            color: var(--primary);
        }

        .chart-actions {
            display: flex;
            gap: 0.5rem;
        }

        .chart-btn {
            padding: 0.25rem 0.75rem;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-secondary);
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .chart-btn:hover,
        .chart-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .chart-wrapper {
            height: 300px;
            position: relative;
        }

        /* ===== CHANNEL PERFORMANCE ===== */
        .channel-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .channel-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .channel-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .channel-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .channel-social {
            background: rgba(59, 130, 246, 0.1);
            color: var(--info);
        }

        .channel-email {
            background: rgba(236, 72, 153, 0.1);
            color: var(--pink);
        }

        .channel-search {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .channel-info h4 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .channel-info p {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .channel-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            text-align: center;
        }

        .channel-metric .value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .channel-metric .label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* ===== AUDIENCE INSIGHTS ===== */
        .audience-section {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .section-header h3 {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .audience-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .audience-card {
            padding: 1.5rem;
            border-radius: var(--radius-sm);
            background: var(--bg-primary);
            border-left: 4px solid var(--primary);
        }

        .audience-card.gender {
            border-left-color: var(--purple);
        }

        .audience-card.age {
            border-left-color: var(--info);
        }

        .audience-card.location {
            border-left-color: var(--secondary);
        }

        .audience-card.device {
            border-left-color: var(--warning);
        }

        .audience-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .audience-title {
            font-weight: 600;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .audience-chart {
            height: 120px;
            margin: 1rem 0;
        }

        .audience-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
        }

        .audience-stat .value {
            font-weight: 700;
            font-size: 1rem;
        }

        .audience-stat .label {
            color: var(--text-secondary);
            font-size: 0.75rem;
        }

        /* ===== TOP CONTENT ===== */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .content-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .content-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .content-item:last-child {
            border-bottom: none;
        }

        .content-rank {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--bg-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.875rem;
        }

        .rank-1 {
            background: var(--primary);
            color: white;
        }

        .rank-2 {
            background: var(--info);
            color: white;
        }

        .rank-3 {
            background: var(--secondary);
            color: white;
        }

        .content-info {
            flex: 1;
        }

        .content-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .content-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .content-stats {
            text-align: right;
        }

        .content-value {
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 0.25rem;
        }

        .content-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* ===== BUDGET ALLOCATION ===== */
        .budget-section {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .budget-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }

        .budget-bars {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .budget-item {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .budget-label {
            width: 120px;
            font-size: 0.875rem;
        }

        .budget-bar {
            flex: 1;
            height: 24px;
            background: var(--bg-primary);
            border-radius: 12px;
            overflow: hidden;
        }

        .budget-fill {
            height: 100%;
            border-radius: 12px;
            transition: width 1s ease;
        }

        .budget-social {
            background: var(--info);
        }

        .budget-search {
            background: var(--warning);
        }

        .budget-email {
            background: var(--pink);
        }

        .budget-display {
            background: var(--purple);
        }

        .budget-value {
            width: 80px;
            text-align: right;
            font-weight: 600;
        }

        .budget-summary {
            background: var(--bg-primary);
            border-radius: var(--radius-sm);
            padding: 1.5rem;
        }

        .budget-total {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .budget-remaining {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .budget-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 1024px) {
            .sidebar {
                width: 70px;
            }

            .logo h1,
            .nav-menu span,
            .user-profile div {
                display: none;
            }

            .logo {
                justify-content: center;
                padding: 0 0 2rem;
            }

            .nav-menu a {
                justify-content: center;
                padding: 0.75rem;
            }

            .user-profile {
                justify-content: center;
                padding: 1rem;
            }

            .budget-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                position: static;
                flex-direction: row;
                justify-content: space-between;
                padding: 1rem;
            }

            .logo {
                padding: 0;
                border-bottom: none;
            }

            .nav-menu {
                padding: 0;
            }

            .nav-menu ul {
                display: flex;
                gap: 1rem;
            }

            .nav-menu a {
                border-left: none;
                border-bottom: 3px solid transparent;
            }

            .nav-menu li.active a {
                border-left: none;
                border-bottom-color: var(--primary);
            }

            .user-profile {
                padding: 0;
                border-top: none;
            }

            .main-content {
                padding: 1rem;
            }

            .charts-section,
            .channel-grid,
            .content-grid {
                grid-template-columns: 1fr;
            }

            .campaign-grid {
                grid-template-columns: 1fr;
            }

            .metrics-overview {
                grid-template-columns: repeat(2, 1fr);
            }

            .header {
                flex-direction: column;
                align-items: flex-start;
            }

            .header-right {
                width: 100%;
            }

            .search-box {
                min-width: 100%;
            }

            .marketing-hero {
                flex-direction: column;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .metrics-overview {
                grid-template-columns: 1fr;
            }

            .campaign-metrics {
                grid-template-columns: 1fr;
            }

            .channel-metrics {
                grid-template-columns: 1fr;
            }

            .nav-menu ul {
                gap: 0.5rem;
            }

            .nav-menu a {
                padding: 0.5rem;
            }
        }

        /* ===== ANIMATIONS ===== */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(-20px);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .updated {
            animation: pulse 1s;
        }

        .fa-spinner {
            animation: spin 1s linear infinite;
        }

        .campaign-card {
            animation: slideIn 0.5s ease;
        }

        /* ===== NOTIFICATION TOAST ===== */
        .notification-toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: var(--radius);
            padding: 1rem;
            box-shadow: var(--shadow-xl);
            z-index: 10000;
            max-width: 300px;
            animation: fadeIn 0.3s ease;
        }

        .toast-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .toast-close {
            margin-left: auto;
            background: none;
            border: none;
            font-size: 1.25rem;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .toast-body {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        /* ===== LOADING OVERLAY ===== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .loading-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--border-color);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* ===== TOOLTIPS ===== */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: var(--bg-card);
            color: var(--text-primary);
            text-align: center;
            border-radius: var(--radius-sm);
            padding: 0.75rem;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
            font-size: 0.875rem;
            font-weight: normal;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
    </style>
</head>

<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Theme Toggle -->
    <div class="theme-toggle">
        <button id="themeBtn" class="theme-btn">
            <i class="fas fa-moon"></i>
            <span>Dark Mode</span>
        </button>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <i class="fas fa-chart-line"></i>
                <h1>DataViz Pro</h1>
            </div>

            <nav class="nav-menu">
                <ul>
                    <li>
                        <a href="index.html">
                            <i class="fas fa-home"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="Analytics.html">
                            <i class="fas fa-chart-bar"></i>
                            <span>Analytics</span>
                        </a>
                    </li>
                    <li class="active">
                        <a href="Marketing.html">
                            <i class="fas fa-bullhorn"></i>
                            <span>Marketing</span>
                        </a>
                    </li>
                    <li>
                        <a href="Sales.html">
                            <i class="fas fa-shopping-cart"></i>
                            <span>Sales</span>
                        </a>
                    </li>
                    <li>
                        <a href="Reports.html">
                            <i class="fas fa-file-alt"></i>
                            <span>Reports</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="user-profile">
                <img src="https://ui-avatars.com/api/?name=Marketing+Lead&background=8b5cf6&color=fff" alt="User">
                <div>
                    <h3>Marketing Lead</h3>
                    <p>Campaign Manager</p>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content" id="marketing">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <h2>Marketing Analytics</h2>
                    <p class="subtitle">Track, analyze, and optimize your marketing campaigns</p>
                </div>

                <div class="header-right">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search campaigns, metrics..." id="searchInput">
                    </div>

                    <div class="header-actions">
                        <button class="notification-btn" id="notificationBtn">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge" id="notificationBadge">5</span>
                        </button>

                        <div class="date-filter">
                            <select id="dateRange">
                                <option value="7d">Last 7 days</option>
                                <option value="30d" selected>Last 30 days</option>
                                <option value="90d">Last 90 days</option>
                                <option value="qtd">QTD</option>
                                <option value="ytd">YTD</option>
                            </select>
                        </div>

                        <button class="campaign-btn" id="newCampaignBtn">
                            <i class="fas fa-plus"></i>
                            New Campaign
                        </button>
                    </div>
                </div>
            </header>

            <!-- Marketing Hero -->
            <section class="marketing-hero">
                <div class="hero-content">
                    <h3>Q4 Marketing Performance</h3>
                    <p>Overall marketing ROI increased by 24% this quarter. Social media campaigns showing highest
                        engagement.</p>
                </div>
                <div class="hero-stats">
                    <div class="hero-stat">
                        <div class="hero-value">$2.4M</div>
                        <div class="hero-label">Revenue Generated</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-value">8.2K</div>
                        <div class="hero-label">Leads Acquired</div>
                    </div>
                    <div class="hero-stat">
                        <div class="hero-value">312%</div>
                        <div class="hero-label">Overall ROI</div>
                    </div>
                </div>
            </section>

            <!-- Campaign Grid -->
            <section class="campaign-grid" id="campaignsGrid">
                <!-- Campaign cards will be populated by JavaScript -->
            </section>

            <!-- Metrics Overview -->
            <section class="metrics-overview">
                <div class="metric-card">
                    <div class="metric-icon icon-impressions">
                        <i class="fas fa-eye"></i>
                    </div>
                    <h3>Impressions</h3>
                    <div class="value" id="impressionsValue">2.4M</div>
                    <div class="metric-change positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>18.5% from last month</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-icon icon-clicks">
                        <i class="fas fa-mouse-pointer"></i>
                    </div>
                    <h3>Clicks</h3>
                    <div class="value" id="clicksValue">124K</div>
                    <div class="metric-change positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>12.3% from last month</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-icon icon-conversions">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h3>Conversions</h3>
                    <div class="value" id="conversionsValue">8,241</div>
                    <div class="metric-change positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>9.7% from last month</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-icon icon-roi">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Avg. ROI</h3>
                    <div class="value" id="roiValue">312%</div>
                    <div class="metric-change positive">
                        <i class="fas fa-arrow-up"></i>
                        <span>24.1% from last month</span>
                    </div>
                </div>
            </section>

            <!-- Charts Section -->
            <section class="charts-section">
                <!-- Campaign Performance Chart -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-rocket"></i> Campaign Performance</h3>
                        <div class="chart-actions">
                            <button class="chart-btn active" data-metric="clicks">Clicks</button>
                            <button class="chart-btn" data-metric="conversions">Conversions</button>
                            <button class="chart-btn" data-metric="roi">ROI</button>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="campaignChart"></canvas>
                    </div>
                </div>

                <!-- Channel Distribution Chart -->
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-share-alt"></i> Channel Distribution</h3>
                        <div class="tooltip">
                            <i class="fas fa-info-circle"></i>
                            <div class="tooltip-text">Marketing spend distribution across channels</div>
                        </div>
                    </div>
                    <div class="chart-wrapper">
                        <canvas id="channelChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Channel Performance -->
            <section class="channel-grid">
                <div class="channel-card">
                    <div class="channel-header">
                        <div class="channel-icon channel-social">
                            <i class="fab fa-facebook-f"></i>
                        </div>
                        <div class="channel-info">
                            <h4>Social Media</h4>
                            <p>Facebook, Instagram, Twitter, LinkedIn</p>
                        </div>
                    </div>
                    <div class="channel-metrics">
                        <div class="channel-metric">
                            <div class="value">42%</div>
                            <div class="label">Traffic</div>
                        </div>
                        <div class="channel-metric">
                            <div class="value">3.8%</div>
                            <div class="label">Conv. Rate</div>
                        </div>
                        <div class="channel-metric">
                            <div class="value">415%</div>
                            <div class="label">ROI</div>
                        </div>
                    </div>
                </div>

                <div class="channel-card">
                    <div class="channel-header">
                        <div class="channel-icon channel-email">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="channel-info">
                            <h4>Email Marketing</h4>
                            <p>Newsletters, campaigns, automations</p>
                        </div>
                    </div>
                    <div class="channel-metrics">
                        <div class="channel-metric">
                            <div class="value">28%</div>
                            <div class="label">Traffic</div>
                        </div>
                        <div class="channel-metric">
                            <div class="value">4.2%</div>
                            <div class="label">Conv. Rate</div>
                        </div>
                        <div class="channel-metric">
                            <div class="value">280%</div>
                            <div class="label">ROI</div>
                        </div>
                    </div>
                </div>

                <div class="channel-card">
                    <div class="channel-header">
                        <div class="channel-icon channel-search">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="channel-info">
                            <h4>Search & SEO</h4>
                            <p>Google Ads, SEO, content marketing</p>
                        </div>
                    </div>
                    <div class="channel-metrics">
                        <div class="channel-metric">
                            <div class="value">25%</div>
                            <div class="label">Traffic</div>
                        </div>
                        <div class="channel-metric">
                            <div class="value">2.9%</div>
                            <div class="label">Conv. Rate</div>
                        </div>
                        <div class="channel-metric">
                            <div class="value">240%</div>
                            <div class="label">ROI</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Audience Insights -->
            <section class="audience-section">
                <div class="section-header">
                    <h3>Audience Insights</h3>
                    <button class="campaign-btn" id="filterAudienceBtn">
                        <i class="fas fa-filter"></i>
                        Filter Audience
                    </button>
                </div>
                <div class="audience-grid">
                    <div class="audience-card gender">
                        <div class="audience-header">
                            <div class="audience-title">Gender Distribution</div>
                            <i class="fas fa-venus-mars"></i>
                        </div>
                        <div class="audience-chart">
                            <canvas id="genderChart"></canvas>
                        </div>
                        <div class="audience-stats">
                            <div class="audience-stat">
                                <div class="value">58%</div>
                                <div class="label">Female</div>
                            </div>
                            <div class="audience-stat">
                                <div class="value">42%</div>
                                <div class="label">Male</div>
                            </div>
                        </div>
                    </div>

                    <div class="audience-card age">
                        <div class="audience-header">
                            <div class="audience-title">Age Groups</div>
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="audience-chart">
                            <canvas id="ageChart"></canvas>
                        </div>
                        <div class="audience-stats">
                            <div class="audience-stat">
                                <div class="value">32%</div>
                                <div class="label">18-24</div>
                            </div>
                            <div class="audience-stat">
                                <div class="value">41%</div>
                                <div class="label">25-34</div>
                            </div>
                        </div>
                    </div>

                    <div class="audience-card location">
                        <div class="audience-header">
                            <div class="audience-title">Top Locations</div>
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="audience-stats">
                            <div class="audience-stat">
                                <div class="value">USA</div>
                                <div class="label">42% of traffic</div>
                            </div>
                            <div class="audience-stat">
                                <div class="value">UK</div>
                                <div class="label">18% of traffic</div>
                            </div>
                            <div class="audience-stat">
                                <div class="value">Canada</div>
                                <div class="label">12% of traffic</div>
                            </div>
                        </div>
                    </div>

                    <div class="audience-card device">
                        <div class="audience-header">
                            <div class="audience-title">Device Usage</div>
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="audience-stats">
                            <div class="audience-stat">
                                <div class="value">62%</div>
                                <div class="label">Mobile</div>
                            </div>
                            <div class="audience-stat">
                                <div class="value">35%</div>
                                <div class="label">Desktop</div>
                            </div>
                            <div class="audience-stat">
                                <div class="value">3%</div>
                                <div class="label">Tablet</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Top Performing Content -->
            <section class="content-grid">
                <div class="content-card">
                    <h3 style="margin-bottom: 1rem;">Top Performing Ads</h3>
                    <div id="topAdsList">
                        <!-- Ads will be populated by JavaScript -->
                    </div>
                </div>

                <div class="content-card">
                    <h3 style="margin-bottom: 1rem;">Best Converting Pages</h3>
                    <div id="topPagesList">
                        <!-- Pages will be populated by JavaScript -->
                    </div>
                </div>
            </section>

            <!-- Budget Allocation -->
            <section class="budget-section">
                <div class="section-header">
                    <h3>Marketing Budget Allocation</h3>
                    <button class="campaign-btn" id="adjustBudgetBtn">
                        <i class="fas fa-edit"></i>
                        Adjust Budget
                    </button>
                </div>
                <div class="budget-grid">
                    <div class="budget-bars">
                        <div class="budget-item">
                            <div class="budget-label">Social Media</div>
                            <div class="budget-bar">
                                <div class="budget-fill budget-social" style="width: 42%"></div>
                            </div>
                            <div class="budget-value">$42,000</div>
                        </div>
                        <div class="budget-item">
                            <div class="budget-label">Search Ads</div>
                            <div class="budget-bar">
                                <div class="budget-fill budget-search" style="width: 28%"></div>
                            </div>
                            <div class="budget-value">$28,000</div>
                        </div>
                        <div class="budget-item">
                            <div class="budget-label">Email Marketing</div>
                            <div class="budget-bar">
                                <div class="budget-fill budget-email" style="width: 18%"></div>
                            </div>
                            <div class="budget-value">$18,000</div>
                        </div>
                        <div class="budget-item">
                            <div class="budget-label">Display Ads</div>
                            <div class="budget-bar">
                                <div class="budget-fill budget-display" style="width: 12%"></div>
                            </div>
                            <div class="budget-value">$12,000</div>
                        </div>
                    </div>
                    <div class="budget-summary">
                        <div class="budget-total">$100,000</div>
                        <div class="budget-remaining">Monthly Marketing Budget</div>
                        <div class="budget-remaining">Remaining: $24,500</div>
                        <div class="budget-actions">
                            <button class="campaign-btn" style="background: var(--secondary);" id="exportReportBtn">
                                <i class="fas fa-download"></i>
                                Export Report
                            </button>
                            <button class="campaign-btn" style="background: var(--info);" id="analyzeBudgetBtn">
                                <i class="fas fa-chart-pie"></i>
                                Analyze
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // ===== MARKETING DATA =====
        const marketingData = {
            campaigns: [
                {
                    id: 1,
                    name: "Black Friday Sale",
                    status: "active",
                    impressions: "2.4M",
                    clicks: "124K",
                    conversions: "8,241",
                    ctr: "5.2%",
                    progress: 85,
                    spent: "$42,500",
                    revenue: "$1.2M",
                    roi: "282%",
                    startDate: "Nov 1, 2024",
                    endDate: "Nov 30, 2024"
                },
                {
                    id: 2,
                    name: "Holiday Email Campaign",
                    status: "active",
                    impressions: "1.8M",
                    clicks: "98K",
                    conversions: "6,542",
                    ctr: "5.4%",
                    progress: 65,
                    spent: "$28,000",
                    revenue: "$850K",
                    roi: "304%",
                    startDate: "Nov 15, 2024",
                    endDate: "Dec 31, 2024"
                },
                {
                    id: 3,
                    name: "Social Media Boost",
                    status: "active",
                    impressions: "3.2M",
                    clicks: "156K",
                    conversions: "9,874",
                    ctr: "4.9%",
                    progress: 90,
                    spent: "$52,000",
                    revenue: "$1.8M",
                    roi: "346%",
                    startDate: "Oct 1, 2024",
                    endDate: "Dec 31, 2024"
                },
                {
                    id: 4,
                    name: "Q4 SEO Optimization",
                    status: "paused",
                    impressions: "4.1M",
                    clicks: "89K",
                    conversions: "4,215",
                    ctr: "2.2%",
                    progress: 45,
                    spent: "$15,000",
                    revenue: "$320K",
                    roi: "213%",
                    startDate: "Sep 1, 2024",
                    endDate: "Dec 31, 2024"
                },
                {
                    id: 5,
                    name: "Product Launch",
                    status: "draft",
                    impressions: "N/A",
                    clicks: "N/A",
                    conversions: "N/A",
                    ctr: "N/A",
                    progress: 10,
                    spent: "$5,000",
                    revenue: "$0",
                    roi: "0%",
                    startDate: "Jan 1, 2025",
                    endDate: "Mar 31, 2025"
                },
                {
                    id: 6,
                    name: "Influencer Partnership",
                    status: "active",
                    impressions: "1.2M",
                    clicks: "84K",
                    conversions: "5,642",
                    ctr: "7.0%",
                    progress: 75,
                    spent: "$35,000",
                    revenue: "$950K",
                    roi: "271%",
                    startDate: "Oct 15, 2024",
                    endDate: "Jan 15, 2025"
                }
            ],

            campaignPerformance: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6', 'Week 7'],
                clicks: [15600, 18400, 17200, 19800, 21500, 20800, 22400],
                conversions: [856, 942, 912, 1054, 1185, 1124, 1289],
                roi: [245, 268, 254, 282, 304, 291, 312]
            },

            channelDistribution: {
                labels: ['Social Media', 'Email', 'Search Ads', 'Display', 'Affiliate', 'Content'],
                data: [42, 28, 18, 8, 3, 1],
                colors: ['#3b82f6', '#ec4899', '#f59e0b', '#8b5cf6', '#10b981', '#6b7280']
            },

            topAds: [
                { title: "Black Friday - 50% Off", type: "Social", impressions: "845K", ctr: "6.2%", conversions: "2,145" },
                { title: "Limited Time Offer", type: "Email", impressions: "420K", ctr: "8.1%", conversions: "1,845" },
                { title: "Free Shipping Banner", type: "Display", impressions: "1.2M", ctr: "3.8%", conversions: "1,542" },
                { title: "New Arrivals", type: "Social", impressions: "568K", ctr: "5.4%", conversions: "1,245" },
                { title: "Holiday Gift Guide", type: "Search", impressions: "325K", ctr: "4.9%", conversions: "842" }
            ],

            topPages: [
                { title: "/products/premium", type: "Landing Page", visits: "124K", conversion: "8.2%", revenue: "$420K" },
                { title: "/blog/marketing-tips", type: "Blog Post", visits: "98K", conversion: "3.4%", revenue: "$85K" },
                { title: "/homepage", type: "Homepage", visits: "856K", conversion: "1.8%", revenue: "$215K" },
                { title: "/products/basic", type: "Landing Page", visits: "68K", conversion: "6.5%", revenue: "$185K" },
                { title: "/pricing", type: "Pricing Page", visits: "45K", conversion: "12.4%", revenue: "$320K" }
            ],

            audienceGender: {
                labels: ['Female', 'Male', 'Other'],
                data: [58, 42, 0],
                colors: ['#ec4899', '#3b82f6', '#6b7280']
            },

            audienceAge: {
                labels: ['18-24', '25-34', '35-44', '45-54', '55+'],
                data: [32, 41, 18, 7, 2],
                colors: ['#8b5cf6', '#3b82f6', '#10b981', '#f59e0b', '#6b7280']
            }
        };

        // ===== DASHBOARD INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', function () {
            initializeTheme();
            initializeCharts();
            initializeCampaigns();
            initializeTopContent();
            initializeEventListeners();
            simulateLoading();

            // Start real-time updates after a delay
            setTimeout(() => {
                initializeRealTimeUpdates();
            }, 2000);
        });

        // ===== THEME MANAGEMENT =====
        function initializeTheme() {
            const themeBtn = document.getElementById('themeBtn');
            const themeIcon = themeBtn.querySelector('i');
            const themeText = themeBtn.querySelector('span');

            const savedTheme = localStorage.getItem('marketingTheme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                document.body.classList.add('dark-theme');
                themeIcon.className = 'fas fa-sun';
                themeText.textContent = 'Light Mode';
            }

            themeBtn.addEventListener('click', () => {
                document.body.classList.toggle('dark-theme');

                if (document.body.classList.contains('dark-theme')) {
                    themeIcon.className = 'fas fa-sun';
                    themeText.textContent = 'Light Mode';
                    localStorage.setItem('marketingTheme', 'dark');
                } else {
                    themeIcon.className = 'fas fa-moon';
                    themeText.textContent = 'Dark Mode';
                    localStorage.setItem('marketingTheme', 'light');
                }
            });
        }

        // ===== CHARTS INITIALIZATION =====
        function initializeCharts() {
            // Campaign Performance Chart
            const campaignCtx = document.getElementById('campaignChart');
            if (campaignCtx) {
                window.campaignChart = new Chart(campaignCtx.getContext('2d'), {
                    type: 'line',
                    data: {
                        labels: marketingData.campaignPerformance.labels,
                        datasets: [{
                            label: 'Clicks',
                            data: marketingData.campaignPerformance.clicks,
                            borderColor: '#8b5cf6',
                            backgroundColor: 'rgba(139, 92, 246, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4,
                            pointRadius: 4,
                            pointHoverRadius: 6
                        }]
                    },
                    options: getLineChartOptions('', 'Clicks')
                });
            }

            // Channel Distribution Chart
            const channelCtx = document.getElementById('channelChart');
            if (channelCtx && window.ChartDataLabels) {
                window.channelChart = new Chart(channelCtx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: marketingData.channelDistribution.labels,
                        datasets: [{
                            data: marketingData.channelDistribution.data,
                            backgroundColor: marketingData.channelDistribution.colors,
                            borderWidth: 1,
                            borderColor: 'var(--bg-card)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right',
                                labels: {
                                    padding: 20,
                                    usePointStyle: true,
                                    color: 'var(--text-primary)',
                                    font: {
                                        size: 12
                                    }
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function (context) {
                                        return `${context.label}: ${context.parsed}% of budget`;
                                    }
                                }
                            }
                        },
                        cutout: '65%'
                    }
                });
            }

            // Gender Distribution Chart
            const genderCtx = document.getElementById('genderChart');
            if (genderCtx) {
                window.genderChart = new Chart(genderCtx.getContext('2d'), {
                    type: 'pie',
                    data: {
                        labels: marketingData.audienceGender.labels,
                        datasets: [{
                            data: marketingData.audienceGender.data,
                            backgroundColor: marketingData.audienceGender.colors,
                            borderWidth: 1,
                            borderColor: 'var(--bg-card)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    label: function (context) {
                                        return `${context.label}: ${context.parsed}%`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Age Distribution Chart
            const ageCtx = document.getElementById('ageChart');
            if (ageCtx) {
                window.ageChart = new Chart(ageCtx.getContext('2d'), {
                    type: 'bar',
                    data: {
                        labels: marketingData.audienceAge.labels,
                        datasets: [{
                            data: marketingData.audienceAge.data,
                            backgroundColor: marketingData.audienceAge.colors,
                            borderWidth: 0,
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            tooltip: {
                                callbacks: {
                                    label: function (context) {
                                        return `${context.label}: ${context.parsed}%`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 50,
                                grid: { display: false },
                                ticks: {
                                    callback: function (value) {
                                        return value + '%';
                                    },
                                    color: 'var(--text-secondary)'
                                }
                            },
                            x: {
                                grid: { display: false },
                                ticks: { color: 'var(--text-secondary)' }
                            }
                        }
                    }
                });
            }
        }

        // ===== CHART OPTIONS =====
        function getLineChartOptions(prefix = '', metric = '') {
            return {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        backgroundColor: 'var(--bg-card)',
                        titleColor: 'var(--text-primary)',
                        bodyColor: 'var(--text-primary)',
                        borderColor: 'var(--border-color)',
                        borderWidth: 1,
                        callbacks: {
                            label: function (context) {
                                return `${context.dataset.label}: ${prefix}${context.parsed.y.toLocaleString()}${metric === 'roi' ? '%' : ''}`;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(0, 0, 0, 0.05)' },
                        ticks: {
                            color: 'var(--text-secondary)',
                            callback: function (value) {
                                return prefix + value.toLocaleString() + (metric === 'roi' ? '%' : '');
                            }
                        }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: 'var(--text-secondary)' }
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index'
                }
            };
        }

        // ===== CAMPAIGNS INITIALIZATION =====
        function initializeCampaigns() {
            const campaignsGrid = document.getElementById('campaignsGrid');
            if (!campaignsGrid) return;

            campaignsGrid.innerHTML = '';

            marketingData.campaigns.forEach(campaign => {
                const campaignCard = document.createElement('div');
                campaignCard.className = `campaign-card ${campaign.status === 'active' ? 'active' : ''}`;
                campaignCard.dataset.id = campaign.id;

                const statusClass = campaign.status === 'active' ? 'status-active' :
                    campaign.status === 'paused' ? 'status-paused' : 'status-draft';

                campaignCard.innerHTML = `
                    <div class="campaign-header">
                        <div class="campaign-title">${campaign.name}</div>
                        <div class="campaign-status ${statusClass}">
                            ${campaign.status.charAt(0).toUpperCase() + campaign.status.slice(1)}
                        </div>
                    </div>
                    
                    <div class="campaign-metrics">
                        <div class="metric">
                            <div class="metric-value">${campaign.impressions}</div>
                            <div class="metric-label">Impressions</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${campaign.clicks}</div>
                            <div class="metric-label">Clicks</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${campaign.conversions}</div>
                            <div class="metric-label">Conversions</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${campaign.ctr}</div>
                            <div class="metric-label">CTR</div>
                        </div>
                    </div>
                    
                    <div class="campaign-progress">
                        <div class="progress-label">
                            <span>Budget Spent</span>
                            <span>${campaign.spent} / ${campaign.revenue} (ROI: ${campaign.roi})</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${campaign.progress}%"></div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 1rem; font-size: 0.75rem; color: var(--text-secondary);">
                        ${campaign.startDate} - ${campaign.endDate}
                    </div>
                `;

                campaignsGrid.appendChild(campaignCard);

                // Add click event to campaign card
                campaignCard.addEventListener('click', function () {
                    showCampaignDetails(campaign);
                });
            });
        }

        // ===== TOP CONTENT INITIALIZATION =====
        function initializeTopContent() {
            // Top Ads
            const topAdsList = document.getElementById('topAdsList');
            if (topAdsList) {
                marketingData.topAds.forEach((ad, index) => {
                    const adItem = document.createElement('div');
                    adItem.className = 'content-item';

                    adItem.innerHTML = `
                        <div class="content-rank rank-${index + 1}">${index + 1}</div>
                        <div class="content-info">
                            <div class="content-title">${ad.title}</div>
                            <div class="content-meta">
                                <span>${ad.type}</span>
                                <span>${ad.impressions} impressions</span>
                            </div>
                        </div>
                        <div class="content-stats">
                            <div class="content-value">${ad.ctr}</div>
                            <div class="content-label">CTR</div>
                        </div>
                    `;

                    topAdsList.appendChild(adItem);
                });
            }

            // Top Pages
            const topPagesList = document.getElementById('topPagesList');
            if (topPagesList) {
                marketingData.topPages.forEach((page, index) => {
                    const pageItem = document.createElement('div');
                    pageItem.className = 'content-item';

                    pageItem.innerHTML = `
                        <div class="content-rank rank-${index + 1}">${index + 1}</div>
                        <div class="content-info">
                            <div class="content-title">${page.title}</div>
                            <div class="content-meta">
                                <span>${page.type}</span>
                                <span>${page.visits} visits</span>
                            </div>
                        </div>
                        <div class="content-stats">
                            <div class="content-value">${page.conversion}</div>
                            <div class="content-label">Conversion</div>
                        </div>
                    `;

                    topPagesList.appendChild(pageItem);
                });
            }
        }

        // ===== EVENT LISTENERS =====
        function initializeEventListeners() {
            // Date Range Filter
            const dateRange = document.getElementById('dateRange');
            if (dateRange) {
                dateRange.addEventListener('change', function () {
                    showLoading();
                    setTimeout(() => {
                        updateDashboardData(this.value);
                        hideLoading();
                        showNotification('Date range updated', 'Showing data for ' + this.options[this.selectedIndex].text);
                    }, 800);
                });
            }

            // Chart Metric Buttons
            document.querySelectorAll('.chart-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const chartContainer = this.closest('.chart-container');
                    const metric = this.dataset.metric;

                    chartContainer.querySelectorAll('.chart-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    updateCampaignChart(metric);
                });
            });

            // New Campaign Button
            const newCampaignBtn = document.getElementById('newCampaignBtn');
            if (newCampaignBtn) {
                newCampaignBtn.addEventListener('click', function () {
                    showNewCampaignModal();
                });
            }

            // Search Functionality
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.addEventListener('input', function () {
                    filterCampaigns(this.value);
                });
            }

            // Other buttons
            document.getElementById('filterAudienceBtn')?.addEventListener('click', () => {
                showNotification('Filter Audience', 'Opening audience filter panel...');
            });

            document.getElementById('adjustBudgetBtn')?.addEventListener('click', () => {
                showNotification('Adjust Budget', 'Opening budget adjustment panel...');
            });

            document.getElementById('exportReportBtn')?.addEventListener('click', () => {
                showNotification('Export Report', 'Generating and downloading report...');
            });

            document.getElementById('analyzeBudgetBtn')?.addEventListener('click', () => {
                showNotification('Budget Analysis', 'Analyzing budget allocation...');
            });

            // Notification button
            const notificationBtn = document.getElementById('notificationBtn');
            if (notificationBtn) {
                notificationBtn.addEventListener('click', () => {
                    // Clear notifications
                    const badge = document.getElementById('notificationBadge');
                    if (badge) {
                        badge.textContent = '0';
                    }
                    showNotification('Notifications', 'You have no new notifications');
                });
            }
        }

        // ===== CHART UPDATES =====
        function updateCampaignChart(metric) {
            const chart = window.campaignChart;
            if (!chart) return;

            let newData, label, suffix = '';

            switch (metric) {
                case 'clicks':
                    newData = marketingData.campaignPerformance.clicks;
                    label = 'Clicks';
                    break;
                case 'conversions':
                    newData = marketingData.campaignPerformance.conversions;
                    label = 'Conversions';
                    break;
                case 'roi':
                    newData = marketingData.campaignPerformance.roi;
                    label = 'ROI';
                    suffix = '%';
                    break;
                default:
                    return;
            }

            chart.data.datasets[0].data = newData;
            chart.data.datasets[0].label = label;
            chart.options.scales.y.ticks.callback = function (value) {
                return value.toLocaleString() + suffix;
            };
            chart.update();
        }

        // ===== CAMPAIGN FUNCTIONS =====
        function showCampaignDetails(campaign) {
            const modalHtml = `
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 10000;">
                    <div style="background: var(--bg-card); border-radius: var(--radius); padding: 2rem; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto; box-shadow: var(--shadow-xl);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                            <h3 style="margin: 0;">${campaign.name}</h3>
                            <button onclick="this.closest('div[style*=\\'position: fixed\\']').remove()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-secondary);">&times;</button>
                        </div>
                        
                        <div style="margin-bottom: 1.5rem;">
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1rem;">
                                <div>
                                    <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Status</div>
                                    <div style="font-weight: 600;">${campaign.status.charAt(0).toUpperCase() + campaign.status.slice(1)}</div>
                                </div>
                                <div>
                                    <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Progress</div>
                                    <div style="font-weight: 600;">${campaign.progress}%</div>
                                </div>
                            </div>
                            
                            <div style="background: var(--bg-primary); padding: 1rem; border-radius: var(--radius-sm); margin-bottom: 1rem;">
                                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                                    <div>
                                        <div style="font-size: 0.75rem; color: var(--text-secondary);">Spent</div>
                                        <div style="font-weight: 600; color: var(--danger);">${campaign.spent}</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 0.75rem; color: var(--text-secondary);">Revenue</div>
                                        <div style="font-weight: 600; color: var(--secondary);">${campaign.revenue}</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 0.75rem; color: var(--text-secondary);">ROI</div>
                                        <div style="font-weight: 600; color: var(--primary);">${campaign.roi}</div>
                                    </div>
                                    <div>
                                        <div style="font-size: 0.75rem; color: var(--text-secondary);">CTR</div>
                                        <div style="font-weight: 600;">${campaign.ctr}</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <div style="font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Duration</div>
                                <div style="font-weight: 600;">${campaign.startDate} - ${campaign.endDate}</div>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 0.5rem;">
                            <button onclick="window.editCampaign(${campaign.id})" style="flex: 1; padding: 0.75rem; background: var(--primary); color: white; border: none; border-radius: var(--radius-sm); cursor: pointer;">
                                <i class="fas fa-edit"></i> Edit Campaign
                            </button>
                            <button onclick="window.analyzeCampaign(${campaign.id})" style="flex: 1; padding: 0.75rem; background: var(--info); color: white; border: none; border-radius: var(--radius-sm); cursor: pointer;">
                                <i class="fas fa-chart-line"></i> Analyze
                            </button>
                        </div>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', modalHtml);
        }

        function showNewCampaignModal() {
            const modalHtml = `
                <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 10000;">
                    <div style="background: var(--bg-card); border-radius: var(--radius); padding: 2rem; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto; box-shadow: var(--shadow-xl);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                            <h3 style="margin: 0;">Create New Campaign</h3>
                            <button onclick="this.closest('div[style*=\\'position: fixed\\']').remove()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-secondary);">&times;</button>
                        </div>
                        
                        <form id="newCampaignForm" style="display: flex; flex-direction: column; gap: 1rem;">
                            <div>
                                <label style="display: block; font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--text-secondary);">Campaign Name</label>
                                <input type="text" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); background: var(--bg-primary); color: var(--text-primary);">
                            </div>
                            
                            <div>
                                <label style="display: block; font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--text-secondary);">Channel</label>
                                <select required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); background: var(--bg-primary); color: var(--text-primary);">
                                    <option value="">Select Channel</option>
                                    <option value="social">Social Media</option>
                                    <option value="email">Email Marketing</option>
                                    <option value="search">Search Ads</option>
                                    <option value="display">Display Ads</option>
                                </select>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div>
                                    <label style="display: block; font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--text-secondary);">Start Date</label>
                                    <input type="date" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); background: var(--bg-primary); color: var(--text-primary);">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--text-secondary);">End Date</label>
                                    <input type="date" required style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); background: var(--bg-primary); color: var(--text-primary);">
                                </div>
                            </div>
                            
                            <div>
                                <label style="display: block; font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--text-secondary);">Budget</label>
                                <input type="number" required min="100" step="100" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); background: var(--bg-primary); color: var(--text-primary);" placeholder="$">
                            </div>
                            
                            <div>
                                <label style="display: block; font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--text-secondary);">Objective</label>
                                <textarea rows="3" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--radius-sm); background: var(--bg-primary); color: var(--text-primary);" placeholder="Describe campaign objectives..."></textarea>
                            </div>
                            
                            <button type="submit" style="padding: 0.75rem; background: var(--primary); color: white; border: none; border-radius: var(--radius-sm); cursor: pointer; font-weight: 600; margin-top: 1rem;">
                                Create Campaign
                            </button>
                        </form>
                    </div>
                </div>
            `;

            document.body.insertAdjacentHTML('beforeend', modalHtml);

            // Handle form submission
            const form = document.getElementById('newCampaignForm');
            if (form) {
                form.addEventListener('submit', function (e) {
                    e.preventDefault();
                    createNewCampaign(this);
                });
            }
        }

        function createNewCampaign(form) {
            showLoading();

            setTimeout(() => {
                // Simulate API call
                const newCampaign = {
                    id: marketingData.campaigns.length + 1,
                    name: form.querySelector('input[type="text"]').value,
                    status: "draft",
                    impressions: "0",
                    clicks: "0",
                    conversions: "0",
                    ctr: "0%",
                    progress: 0,
                    spent: "$0",
                    revenue: "$0",
                    roi: "0%",
                    startDate: form.querySelectorAll('input[type="date"]')[0].value,
                    endDate: form.querySelectorAll('input[type="date"]')[1].value
                };

                marketingData.campaigns.unshift(newCampaign);
                initializeCampaigns();

                // Close modal
                const modal = document.querySelector('div[style*="position: fixed"]');
                if (modal) {
                    modal.remove();
                }
                hideLoading();

                showNotification('Campaign Created', 'New campaign has been created successfully');
            }, 1000);
        }

        function filterCampaigns(searchTerm) {
            const cards = document.querySelectorAll('.campaign-card');
            const term = searchTerm.toLowerCase();

            cards.forEach(card => {
                const title = card.querySelector('.campaign-title')?.textContent.toLowerCase() || '';
                const status = card.querySelector('.campaign-status')?.textContent.toLowerCase() || '';

                if (title.includes(term) || status.includes(term) || term === '') {
                    card.style.display = 'block';
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 10);
                } else {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(10px)';
                    setTimeout(() => {
                        card.style.display = 'none';
                    }, 300);
                }
            });
        }

        // ===== DASHBOARD UPDATES =====
        function updateDashboardData(timeRange) {
            // Simulate data update based on time range
            const multiplier = timeRange === '7d' ? 0.25 :
                timeRange === '30d' ? 1 :
                    timeRange === '90d' ? 3 :
                        timeRange === 'qtd' ? 2.25 : 4;

            // Update metric cards
            const metrics = [
                { id: 'impressionsValue', base: 2.4, unit: 'M' },
                { id: 'clicksValue', base: 124, unit: 'K' },
                { id: 'conversionsValue', base: 8.241, unit: '' },
                { id: 'roiValue', base: 312, unit: '%' }
            ];

            metrics.forEach(metric => {
                const element = document.getElementById(metric.id);
                if (element) {
                    const newValue = (metric.base * multiplier).toFixed(metric.id === 'conversionsValue' ? 3 : 1);
                    const displayValue = metric.unit === 'M' ? (newValue / 1).toFixed(1) + 'M' :
                        metric.unit === 'K' ? (newValue / 1).toFixed(0) + 'K' :
                            metric.unit === '%' ? newValue + '%' :
                                Math.round(newValue * 1000).toLocaleString();

                    animateMetricChange(element, displayValue);
                }
            });

            // Update charts
            updateChartsForTimeRange(timeRange);
        }

        function updateChartsForTimeRange(timeRange) {
            // Simulate chart data update
            const chartContainers = document.querySelectorAll('.chart-container');
            chartContainers.forEach(container => {
                const canvas = container.querySelector('canvas');
                if (canvas) {
                    canvas.style.opacity = '0.5';

                    setTimeout(() => {
                        canvas.style.opacity = '1';
                    }, 500);
                }
            });
        }

        function animateMetricChange(element, newValue) {
            element.style.transform = 'scale(1.1)';
            element.style.color = 'var(--primary)';

            setTimeout(() => {
                element.textContent = newValue;
                element.style.transform = 'scale(1)';

                setTimeout(() => {
                    element.style.color = '';
                }, 500);
            }, 300);
        }

        // ===== REAL-TIME UPDATES =====
        function initializeRealTimeUpdates() {
            // Update metrics every 30 seconds
            setInterval(() => {
                updateLiveMetrics();
            }, 30000);

            // Simulate live campaign updates
            setInterval(() => {
                simulateCampaignUpdate();
            }, 45000);
        }

        function updateLiveMetrics() {
            // Update random metric
            const metrics = ['impressionsValue', 'clicksValue', 'conversionsValue', 'roiValue'];
            const randomMetric = metrics[Math.floor(Math.random() * metrics.length)];
            const element = document.getElementById(randomMetric);

            if (element) {
                const current = element.textContent;
                let newValue;

                if (randomMetric === 'roiValue') {
                    const currentNum = parseFloat(current);
                    const variation = (Math.random() * 2 - 1); // 1%
                    newValue = Math.max(200, currentNum + variation).toFixed(0) + '%';
                } else if (randomMetric === 'impressionsValue') {
                    const currentNum = parseFloat(current);
                    const variation = currentNum * 0.01; // 1%
                    newValue = (currentNum + (Math.random() * variation * 2 - variation)).toFixed(1) + 'M';
                } else if (randomMetric === 'clicksValue') {
                    const currentNum = parseInt(current);
                    const variation = Math.floor(currentNum * 0.01); // 1%
                    newValue = (currentNum + Math.floor(Math.random() * variation * 2 - variation)).toLocaleString() + 'K';
                } else {
                    const currentNum = parseInt(current.replace(/,/g, ''));
                    const variation = Math.floor(currentNum * 0.01); // 1%
                    newValue = (currentNum + Math.floor(Math.random() * variation * 2 - variation)).toLocaleString();
                }

                element.textContent = newValue;
                element.classList.add('updated');
                setTimeout(() => element.classList.remove('updated'), 1000);
            }

            // Occasionally update a campaign
            if (Math.random() > 0.7) {
                updateRandomCampaign();
            }
        }

        function simulateCampaignUpdate() {
            // Randomly update a campaign's progress
            const activeCampaigns = marketingData.campaigns.filter(c => c.status === 'active');
            if (activeCampaigns.length > 0) {
                const randomCampaign = activeCampaigns[Math.floor(Math.random() * activeCampaigns.length)];
                const currentProgress = randomCampaign.progress;

                if (currentProgress < 100) {
                    randomCampaign.progress = Math.min(100, currentProgress + Math.floor(Math.random() * 5) + 1);

                    // Update the campaign card in DOM if it exists
                    const campaignCard = document.querySelector(`.campaign-card[data-id="${randomCampaign.id}"]`);
                    if (campaignCard) {
                        const progressFill = campaignCard.querySelector('.progress-fill');
                        if (progressFill) {
                            progressFill.style.width = randomCampaign.progress + '%';
                        }

                        // Update other metrics in the card
                        const metricValues = campaignCard.querySelectorAll('.metric-value');
                        if (metricValues.length >= 4) {
                            // Update impressions
                            metricValues[0].textContent = formatNumber(parseFloat(randomCampaign.impressions) * 1.01, 'M');
                            // Update clicks
                            metricValues[1].textContent = formatNumber(parseFloat(randomCampaign.clicks) * 1.01, 'K');
                            // Update conversions
                            metricValues[2].textContent = formatNumber(parseFloat(randomCampaign.conversions.replace(/,/g, '')) * 1.01, '');
                        }

                        // Update ROI
                        randomCampaign.roi = (parseFloat(randomCampaign.roi) * 1.01).toFixed(0) + '%';
                        const progressLabel = campaignCard.querySelector('.progress-label span:last-child');
                        if (progressLabel) {
                            progressLabel.textContent = `${randomCampaign.spent} / ${randomCampaign.revenue} (ROI: ${randomCampaign.roi})`;
                        }
                    }
                }
            }
        }

        function updateRandomCampaign() {
            const campaigns = document.querySelectorAll('.campaign-card');
            if (campaigns.length > 0) {
                const randomCard = campaigns[Math.floor(Math.random() * campaigns.length)];
                randomCard.style.boxShadow = '0 0 0 2px var(--primary)';

                setTimeout(() => {
                    randomCard.style.boxShadow = '';
                }, 1000);
            }
        }

        // ===== NOTIFICATION SYSTEM =====
        function showNotification(title, message = '') {
            // Update badge
            const badge = document.getElementById('notificationBadge');
            if (badge) {
                const current = parseInt(badge.textContent) || 0;
                badge.textContent = current + 1;
            }

            // Create toast
            const toast = document.createElement('div');
            toast.className = 'notification-toast';
            toast.innerHTML = `
                <div class="toast-header">
                    <i class="fas fa-bullhorn" style="color: var(--primary);"></i>
                    <strong>${title}</strong>
                    <button class="toast-close">&times;</button>
                </div>
                ${message ? `<div class="toast-body">${message}</div>` : ''}
            `;

            document.body.appendChild(toast);

            // Close button
            toast.querySelector('.toast-close').addEventListener('click', () => {
                toast.remove();
            });

            // Auto-remove
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.remove();
                }
            }, 5000);
        }

        // ===== LOADING FUNCTIONS =====
        function showLoading() {
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) {
                overlay.classList.add('active');
            }
        }

        function hideLoading() {
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) {
                overlay.classList.remove('active');
            }
        }

        function simulateLoading() {
            showLoading();
            setTimeout(() => {
                hideLoading();
            }, 1500);
        }

        // ===== UTILITY FUNCTIONS =====
        function formatNumber(value, unit) {
            if (unit === 'M') {
                return (value / 1000000).toFixed(1) + 'M';
            } else if (unit === 'K') {
                return (value / 1000).toFixed(0) + 'K';
            } else {
                return Math.round(value).toLocaleString();
            }
        }

        // ===== GLOBAL FUNCTIONS =====
        window.editCampaign = function (campaignId) {
            showNotification('Edit Campaign', 'This would open campaign editor in a real application');
        };

        window.analyzeCampaign = function (campaignId) {
            showNotification('Campaign Analysis', 'Generating detailed campaign analysis...');
        };
    </script>
</body>

</html>